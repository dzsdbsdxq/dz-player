/*!
 * dzPlayer 0.0.37
 * Author: ShoujieLi
 * Description: A Tiny Video Player for html5.
 * E-Mail: lishoujie08@gmail.com
 * Copyright 2024-2024 ShoujieLi. All Rights Reserved
 * Licensed under MIT (https://rem.mit-license.org/)
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("hls.js")):"function"==typeof define&&define.amd?define(["hls.js"],n):(e="undefined"!=typeof globalThis?globalThis:e||self).DzPlayer=n(e.Hls)}(this,(function(e){"use strict";var n=function(){return n=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},n.apply(this,arguments)};function t(e,n,t,o){return new(t||(t=Promise))((function(r,l){function a(e){try{s(o.next(e))}catch(e){l(e)}}function i(e){try{s(o.throw(e))}catch(e){l(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}s((o=o.apply(e,n||[])).next())}))}function o(e,n){var t,o,r,l,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;l&&(l=0,i[0]&&(a=0)),a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}"function"==typeof SuppressedError&&SuppressedError,function(e){if(!e)return;if("undefined"==typeof window)return;const n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n)}(".dz-player-control-bar input[type='range'] {\n  height: 20px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  cursor: pointer; }\n  .dz-player-control-bar input[type='range']:focus {\n    outline: none; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-moz-range-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-ms-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-moz-range-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-ms-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-container {\n    overflow: hidden; }\n\n.dz-player-watermark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  pointer-events: none; }\n\n.dz-player-hide-controller .dz-player-control-panel {\n  display: none; }\n\n.dz-player-control-panel {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  left: 0; }\n  .dz-player-control-panel .dz-player-play-icon,\n  .dz-player-control-panel .dz-player-loading {\n    color: white;\n    cursor: pointer;\n    overflow: hidden;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    box-sizing: border-box;\n    display: grid;\n    place-content: center; }\n    .dz-player-control-panel .dz-player-play-icon svg,\n    .dz-player-control-panel .dz-player-loading svg {\n      width: 50px;\n      height: 50px; }\n\n@keyframes dz-player-loading-keyframes {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  .dz-player-control-panel .dz-player-loading {\n    pointer-events: none;\n    background-color: rgba(255, 255, 255, 0.4); }\n    .dz-player-control-panel .dz-player-loading svg {\n      animation: dz-player-loading-keyframes 1s infinite;\n      width: 40px;\n      height: 40px; }\n  .dz-player-control-panel .dz-player-control-bar {\n    position: absolute;\n    bottom: 0px;\n    left: 0;\n    width: 100%;\n    height: 35px;\n    user-select: none;\n    transition: all 0.3s ease;\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.4));\n    color: white;\n    padding: 0 10px;\n    box-sizing: border-box;\n    display: flex;\n    gap: 8px;\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-content: center; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-left {\n      flex: 1;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: flex-start;\n      align-items: center;\n      align-content: center; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .dz-player-seek-slider {\n        width: 100%;\n        flex: 1; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .control-play {\n        width: 20px;\n        height: 20px;\n        margin-right: 10px;\n        cursor: pointer; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-left .control-play svg {\n          width: 100%;\n          height: 100%; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .control-flush {\n        width: 20px;\n        height: 20px;\n        margin-right: 10px;\n        transition: all .3s;\n        -webkit-transition: all .3s;\n        cursor: pointer; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-left .control-flush svg {\n          width: 100%;\n          height: 100%; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-left .control-flush:hover {\n          transform: rotate(180deg);\n          -webkit-transform: rotate(180deg); }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .live-text {\n        white-space: nowrap;\n        -webkit-box-align: center;\n        -webkit-align-items: center;\n        -ms-flex-align: center;\n        align-items: center;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n        margin: 0;\n        padding: 0px;\n        scale: .8;\n        color: #fff;\n        font-size: 16px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-left .live-text img {\n          width: 14px;\n          height: 14px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .dz-player-play-time {\n        font-family: Menlo, Courier New, Consolas, Lucida Console, Courier, monospace;\n        font-size: 14px;\n        text-align: center;\n        user-select: none;\n        min-width: 120px;\n        margin-left: 8px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-left .dz-player-play-time-tip {\n        display: none;\n        width: 50px;\n        text-align: center;\n        position: absolute;\n        top: -30px;\n        left: -10px;\n        pointer-events: none;\n        background-color: #000;\n        color: #fff;\n        padding: 5px;\n        border-radius: 4px;\n        font-size: 14px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-left .dz-player-play-time-tip::after {\n          content: '';\n          position: absolute;\n          top: 100%;\n          left: 50%;\n          transform: translateX(-50%);\n          border-width: 6px;\n          border-style: solid;\n          border-color: #000 transparent transparent transparent; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-right {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: flex-end;\n      align-items: center;\n      align-content: center; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-right .dz-player-volume-slider {\n        width: 60px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-right .dz-player-volume-bar {\n        margin-right: 15px;\n        max-width: 80px;\n        width: 80px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-right .dz-player-volume-icon,\n      .dz-player-control-panel .dz-player-control-bar .control-bar-right .dz-player-fullscreen {\n        display: inline-block;\n        width: 20px;\n        height: 20px;\n        text-align: center;\n        color: white;\n        cursor: pointer; }\n\n.dz-player-container {\n  position: relative;\n  overflow: hidden;\n  background-color: #000;\n  font-size: 12px !important; }\n  .dz-player-container .dz-player-video {\n    width: 100%;\n    height: 100%;\n    transform: translate(0px, 0px); }\n");var r='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M44.14 11.437a23.03 23.03 0 00-16.352-6.77 23.025 23.025 0 00-16.347 6.77 22.992 22.992 0 00-4.956 7.352 22.963 22.963 0 00-1.818 9c0 3.122.61 6.152 1.818 9.004a22.976 22.976 0 004.956 7.348 22.996 22.996 0 007.348 4.955 22.963 22.963 0 009 1.819 22.96 22.96 0 009.004-1.819 23.037 23.037 0 007.348-4.955 22.976 22.976 0 004.955-7.348 22.967 22.967 0 001.819-9.004c0-3.119-.611-6.148-1.819-9a22.992 22.992 0 00-4.955-7.352z" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M23.524 37.109a1.68 1.68 0 01-1.684 0 1.683 1.683 0 01-.84-1.456V20.349c0-.6.32-1.158.84-1.456a1.68 1.68 0 011.684 0l13.251 7.65a1.684 1.684 0 010 2.914L23.524 37.11z" fill="#FFF"/></g></svg>',l='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M49.498 18.917a23.2 23.2 0 00-5-7.419 23.238 23.238 0 00-16.5-6.832 23.234 23.234 0 00-16.496 6.832 23.2 23.2 0 00-5 7.419 23.17 23.17 0 00-1.835 9.081c0 3.15.616 6.208 1.835 9.085a23.184 23.184 0 005 7.415 23.204 23.204 0 007.415 5 23.17 23.17 0 009.081 1.835c3.15 0 6.208-.616 9.085-1.835a23.245 23.245 0 007.415-5 23.184 23.184 0 005-7.415 23.175 23.175 0 001.835-9.085 23.17 23.17 0 00-1.835-9.081" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M21.467 37.333V18.667h4.2v18.666h-4.2zm13.066-18.666v18.666h-4.2V18.667h4.2z" fill="#FFF"/></g></svg>',a='<svg t="1702888019089" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3681" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M137.830811 984.042017C112.737067 958.344279 99.771199 923.714631 102.020176 888.407991V135.641658c-2.249977-35.31264 10.715891-69.947288 35.807635-95.655025C162.917556 14.279895 197.889199-0.197958 234.407827 0.00204c27.409721 0.352996 54.295447 7.328925 78.219204 20.294793l530.544596 381.456115c45.646535 20.050796 75.955226 63.074358 78.589199 111.562864-2.265977 47.215519-31.599678 89.239091-75.987226 108.858891l-533.023571 381.638113c-23.977756 12.926868-50.903482 19.859798-78.342202 20.174794-36.513628 0.215998-71.484272-14.247855-96.577016-39.945593z" fill="#ffffff" p-id="3682"></path></svg>\n',i='<svg t="1702887843517" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1493" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M705.88416 61.44H782.336a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92h-76.45184a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92zM225.28 61.44h76.45184a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92H225.28a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92z" p-id="1494" fill="#ffffff"></path></svg>\n',s='<svg t="1702890958912" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4679" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64"><path d="M586.511059 279.130353a48.188235 48.188235 0 1 0 21.684706 93.906823l192.752941-44.574117a48.188235 48.188235 0 0 0 35.358118-60.837647l-57.344-190.042353a48.188235 48.188235 0 0 0-92.280471 27.828706l16.263529 53.970823a384.602353 384.602353 0 1 0 174.08 473.027765 54.211765 54.211765 0 0 0-101.376-38.430118 276.178824 276.178824 0 1 1-112.941176-332.619294l0.240941 0.120471-76.438588 17.648941z" fill="#ffffff" p-id="4680"></path></svg>\n',p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16zm4.576 0q0 2.72-1.536 5.056t-4 3.36q-.256.096-.448.096-.48 0-.832-.352t-.32-.8q0-.704.672-1.056 1.024-.512 1.376-.8 1.312-.96 2.048-2.4T22.848 16t-.736-3.104-2.048-2.4q-.352-.288-1.376-.8-.672-.352-.672-1.056 0-.448.32-.8t.8-.352q.224 0 .48.096 2.496 1.056 4 3.36T25.152 16z"/></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16z"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8z"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 33" fill="white"><path d="M6.667 28H1.334c-.8 0-1.333-.533-1.333-1.333v-5.333c0-.8.533-1.333 1.333-1.333s1.333.533 1.333 1.333v4h4c.8 0 1.333.533 1.333 1.333S7.467 28 6.667 28zm24 0h-5.333c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h4v-4c0-.8.533-1.333 1.333-1.333S32 20.534 32 21.334v5.333c0 .8-.533 1.333-1.333 1.333zm0-16c-.8 0-1.333-.533-1.333-1.333v-4h-4c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333v5.333c0 .8-.533 1.333-1.333 1.333zM1.333 12C.533 12 0 11.467 0 10.667V5.334c0-.8.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333s-.533 1.333-1.333 1.333h-4v4c0 .8-.533 1.333-1.333 1.333z"/></svg>',y='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"/></svg>';var h,v,f=function(e,n){var t=null;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];t||(t=setTimeout((function(){e.apply(void 0,o),t=null}),n))}},m=function(e,n){var t=Math.pow(10,null!=n?n:0);if(e<59.9)return"".concat(e.toFixed(1),"s");var o=Math.floor(e/60),r=Math.floor(e%60*t)/t;return"".concat(o,":").concat(r<10?"0".concat(r):r)},g=/mobile/i.test(window.navigator.userAgent),b=function(e){if(0===(e=e||0)||e===1/0||"NaN"===e.toString())return"00:00";var n=Math.floor(e/3600),t=Math.floor((e-3600*n)/60),o=Math.floor(e-3600*n-60*t);return(n>0?[n,t,o]:[t,o]).map((function(e){return e<10?"0"+e:""+e})).join(":")},w=function(){function e(e){var t=this;this.disableAutoHide=!1,this.playRaf=0,this.initControls=function(){t.controlElement=document.createElement("div"),t.controlElement.className="dz-player-control-panel",t.controlElement.innerHTML=function(e,n,t,o){o=o||function(e,n,t,o,r){var l=n.split("\n"),a=Math.max(o-3,0),i=Math.min(l.length,o+3),s=r(t),p=l.slice(a,i).map((function(e,n){var t=n+a+1;return(t==o?" >> ":"    ")+t+"| "+e})).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+e.message,e},n=n||function(e){return null==e?"":String(e).replace(l,a)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},l=/[&<>'"]/g;function a(e){return r[e]||e}var i=1;try{var s="";function p(e){null!=e&&(s+=e)}return p('<div class="dz-player-play-icon"></div>\n<div class="dz-player-control-bar" data-type="'),i=2,p(n(e.srcType)),p('">\n<div class="control-bar-left">\n<div class="control-play"></div>\n'),i=5,"hls"==e.srcType?(p('\n<div alt="刷新" style="display: none;" class="control-flush"></div>\n<div class="live-text">LIVE</div>\n'),i=8):(p('\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n'),i=11,e.playTime&&(p('\n<span class="dz-player-play-time">00:00 / 00:00</span>\n'),i=13),p("\n"),i=14),p('\n</div>\n<div class="control-bar-right">\n\x3c!-- 音量控制 --\x3e\n'),i=18,e.volumeControl&&(p('\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="'),i=21,p(n(e.volume)),p('" />\n</div>\n'),i=23),p("\n"),i=24,e.fullScreenControl&&(p('\n<i class="dz-player-fullscreen"></i>\n'),i=26),p('\n</div>\n</div>\n<div class="dz-player-loading"></div>'),i=29,s}catch(c){o(c,'<div class="dz-player-play-icon"></div>\n<div class="dz-player-control-bar" data-type="<%= locals.srcType %>">\n<div class="control-bar-left">\n<div class="control-play"></div>\n<% if(locals.srcType == "hls"){ %>\n<div alt="刷新" style="display: none;" class="control-flush"></div>\n<div class="live-text">LIVE</div>\n<% } else { %>\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n<% if(locals.playTime){ %>\n<span class="dz-player-play-time">00:00 / 00:00</span>\n<% } %>\n<% } %>\n</div>\n<div class="control-bar-right">\n\x3c!-- 音量控制 --\x3e\n<% if(locals.volumeControl){ %>\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="<%= locals.volume %>" />\n</div>\n<% } %>\n<% if(locals.fullScreenControl){ %>\n<i class="dz-player-fullscreen"></i>\n<% } %>\n</div>\n</div>\n<div class="dz-player-loading"></div>',void 0,i,n)}}(n(n({},t.player.options.controlOptions||{}),{volume:t.player.options.volume,srcType:t.player.videoType})),!t.controlOptions.manualMount&&!t.controlOptions.nativeControls&&t.mountTarget.appendChild(t.controlElement),t.loading=t.controlElement.querySelector(".dz-player-loading"),t.loading&&(t.loading.innerHTML=y,t.loading.style.opacity="0"),t.bottomControlBar=t.controlElement.querySelector(".dz-player-control-bar"),t.bottomControlBar&&t.bottomControlBar.addEventListener("mousedown",(function(e){return e.stopPropagation()})),t.initPlayButton(),t.initControlPlayOrPauseButton(),t.initControlFlushButton(),t.initSeekBar(),t.initVolumeButton(),t.initFullScreenButton(),t.initPlaybackRate()},this.initPlayButton=function(){t.playButton=t.controlElement.querySelector(".dz-player-play-icon"),t.playButton.innerHTML=r,t.playButton.addEventListener("click",t.player.togglePlay)},this.initControlPlayOrPauseButton=function(){t.controlPlayButton=t.controlElement.querySelector(".control-play"),t.controlPlayButton&&(t.controlPlayButton.addEventListener("click",t.player.togglePlay),t.controlPlayButton.innerHTML=a)},this.initControlFlushButton=function(){t.controlFlushButton=t.controlElement.querySelector(".control-flush"),t.controlFlushButton&&(t.controlFlushButton.addEventListener("click",(function(){var e=t;e.player.pause(),e.player.video.currentTime=e.player.video.duration,e.player.play()})),t.controlFlushButton.innerHTML=s)},this.initSeekBar=function(){t.seekBar=t.controlElement.querySelector(".dz-player-seek-slider");var e=!1,n=function(n){n.stopPropagation(),e=!t.player.video.paused,t.player.pause()},o=function(n){n.stopPropagation(),e&&t.player.play()};t.playTime=t.controlElement.querySelector(".dz-player-play-time"),t.seekBar&&t.seekBar.addEventListener("mousedown",n),t.seekBar&&t.seekBar.addEventListener("mouseup",o),t.seekBar&&t.seekBar.addEventListener("touchstart",n),t.seekBar&&t.seekBar.addEventListener("touchend",o),t.seekBar&&t.seekBar.addEventListener("touchmove",(function(e){return e.stopPropagation()})),t.seekBar&&t.seekBar.addEventListener("input",t.onSeeking)},this.initPlaybackRate=function(){t.player.video.playbackRate=t.player.options.playbackRate||1},this.initVolumeButton=function(){var e=t.player.options.volume?t.player.options.volume>1?t.player.options.volume/100:t.player.options.volume:1;t.player.video.volume=e,t.controlOptions.volumeControl&&(t.muteButton=t.controlElement.querySelector(".dz-player-volume-icon"),t.muteButton.addEventListener("click",t.player.mute),t.switchVolumeIcon(),t.volumeSlider=t.controlElement.querySelector(".dz-player-volume-slider"),t.volumeSlider.addEventListener("input",f(t.onVolumeChange,100)),t.volumeControlBar=t.controlElement.querySelector(".dz-player-volume-bar"))},this.initFullScreenButton=function(){t.fullScreenButton=t.controlElement.querySelector(".dz-player-fullscreen"),t.fullScreenButton&&(t.fullScreenButton.addEventListener("click",t.player.toggleFullScreen),t.fullScreenButton.innerHTML=u)},this.watchControlResize=function(){new ResizeObserver(f((function(e){for(var n=0,o=e;n<o.length;n++){var r=o[n];if(!r.contentBoxSize)return;var l=r.contentBoxSize[0],a=l.inlineSize,i=l.blockSize;t.playButton.style.display=i<40||a<40?"none":"grid",t.bottomControlBar.style.display=i<75||a<60?"none":"flex",t.playButton.style.scale=i<100||a<100?"0.5":"1",t.fullScreenButton&&a<200?t.fullScreenButton.style.display="none":t.fullScreenButton&&(t.fullScreenButton.style.display="block"),t.playTime&&a<330?t.playTime.style.display="none":t.playTime&&(t.playTime.style.display="block"),t.volumeControlBar&&a<400?t.volumeControlBar.style.display="none":t.volumeControlBar&&(t.volumeControlBar.style.display="flex")}}),30)).observe(t.controlElement)},this.initControlsEvent=function(){t.player.on("waiting",t.onWaiting),t.player.on("timeupdate",t.onTimeupdate),t.player.on("playing",t.onPlaying),t.player.on("canplay",(function(){return t.toggleLoading(!1)})),t.player.on("seeked",(function(){return t.onSeeked})),t.player.on("loadedmetadata",t.initTimeTip),t.player.on("pause",t.setAutoHide),t.player.on("play",t.setAutoHide),t.initMountTargetEvent(),t.watchControlResize()},this.initTimeTip=function(){var e=t.controlElement.querySelector(".dz-player-play-time-tip"),n=t.player.duration,o=!1,r=!1;t.seekBar&&t.seekBar.addEventListener("input",(function(t){var l=t.target;e.textContent=m(+l.value/100*n),g&&o&&!r&&(e.style.display="block")}));var l=function(l){var a=t.seekBar&&t.seekBar.clientWidth,i=0;if(l instanceof MouseEvent){e.style.display="block";var s=(i=l.offsetX)/a*n;e.textContent=m(s)}if(l instanceof TouchEvent){var p=l.touches[0],c=l.target.getBoundingClientRect();i=p.clientX-c.left,o=!0}(i<0||i>a)&&(e.style.display="none",r=!0),r=!1,e.style.left=i-e.clientWidth/2+40+"px"};t.seekBar&&t.seekBar.addEventListener("touchmove",l),t.seekBar&&t.seekBar.addEventListener("mousemove",l);var a=function(){setTimeout((function(){e.style.display="none",o=!1}),100)};t.seekBar&&t.seekBar.addEventListener("mouseleave",a),t.seekBar&&t.seekBar.addEventListener("touchend",a)},this.initMountTargetEvent=function(){g&&t.mountTarget.addEventListener("touchstart",t.setAutoHide),t.mountTarget.addEventListener("click",t.setAutoHide),t.mountTarget.addEventListener("mousemove",t.setAutoHide)},this.removeMountTargetEvent=function(){},this.setAutoHide=function(){t.show(),clearTimeout(t.autoHideTimer),t.autoHideTimer=window.setTimeout((function(){!t.player.paused&&t.hide()}),2e3)},this.show=function(){t.mountTarget.classList.remove("dz-player-hide-controller")},this.hide=function(){t.mountTarget.classList.add("dz-player-hide-controller")},this.toggle=function(){t.mountTarget.classList.contains("dz-player-hide-controller")?t.show():t.hide()},this.updateSeekBar=function(e){0===t.player.duration&&0===t.player.video.currentTime&&0===t.player.clipStart&&t.seekBar&&(t.seekBar.value="0"),e||(t.playRaf=window.requestAnimationFrame((function(){return t.updateSeekBar()})),t.seekBar&&(t.seekBar.value=((t.player.video.currentTime-t.player.clipStart)/t.player.duration*100).toString()))},this.onSeeking=function(e){e.preventDefault(),e.stopPropagation();var n=e.target,o=Number(parseFloat(n.value)/100*t.player.duration)+Number(t.player.clipStart);t.player.seek(o)},this.onSeeked=function(){t.playRaf&&cancelAnimationFrame(t.playRaf),t.updateSeekBar(!0)},this.onTimeupdate=function(){if(t.playTime||t.controlOptions.manualMount){var e=+t.seekBar.value*t.player.duration*.01;t.playTime&&(t.playTime.textContent="".concat(b(e<0?0:e)," / ").concat(b(t.player.duration)));var n=t.player.video.currentTime;!t.player.handleVideoEndByOuter&&t.player.clipEnd&&n>=t.player.clipEnd-.1&&(t.player.pause(),t.player.seek(Number(t.player.clipStart)),t.updateSeekBar(!0),t.player.options.loop&&t.player.play())}},this.onVolumeChange=function(e){var n=e.target;t.player.volume(Number(n.value))},this.onWaiting=function(){t.player.paused||(t.player.paused=!0),t.toggleLoading(!0)},this.onPlaying=function(){t.player.paused&&(t.player.paused=!1),t.toggleLoading(!1)},this.switchVolumeIcon=function(){t.controlOptions.volumeControl&&(t.player.video.muted||0===t.player.video.volume?t.muteButton.innerHTML=d:t.player.video.volume>0&&t.player.video.volume<1?t.muteButton.innerHTML=c:t.muteButton.innerHTML=p)},this.destroy=function(){clearTimeout(t.autoHideTimer)},this.player=e,this.controlOptions=e.options.controlOptions||{},this.mountTarget=this.controlOptions.mountTarget||this.player.videoContainer,this.initControls(),this.initControlsEvent()}return e.prototype.setVisible=function(e){e?this.show():this.hide()},e.prototype.toggleLoading=function(e){e?(this.loading.style.opacity="1",this.playButton.style.opacity="0"):(this.loading.style.opacity="0",this.playButton.style.opacity="1")},e}();!function(e){e.audioprocess="audioprocess",e.canplay="canplay",e.canplaythrough="canplaythrough",e.complete="complete",e.durationchange="durationchange",e.emptied="emptied",e.ended="ended",e.loadeddata="loadeddata",e.loadedmetadata="loadedmetadata",e.pause="pause",e.play="play",e.playing="playing",e.progress="progress",e.ratechange="ratechange",e.seeked="seeked",e.seeking="seeking",e.stalled="stalled",e.suspend="suspend",e.timeupdate="timeupdate",e.volumechange="volumechange",e.waiting="waiting",e.error="error",e.abort="abort",e.loadstart="loadstart",e.mozaudioavailable="mozaudioavailable"}(h||(h={})),function(e){e.destroy="destroy",e.resize="resize",e.screenshot="screenshot"}(v||(v={}));var x=function(){function e(e){this.events={},this.player=e,this.videoEvents=Object.keys(h).map((function(e){return h[e]})),this.playerEvents=Object.keys(v).map((function(e){return v[e]}))}return e.prototype.type=function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("".concat(e," 事件不存在，请查看下文档")),null)},e.prototype.on=function(e,n){var t=this.type(e);if(t&&"function"!=typeof n)return console.error("".concat(e," 事件的回调函数必须是一个函数"));this.events[e]||(this.events[e]=[]),this.events[e].push(n),"video"===t&&this.player.video.addEventListener(e,n),"player"===t&&this.events[e].push(n)},e.prototype.off=function(e,n){if(this.type(e)&&this.events[e]&&this.events[e].length){var t=this.events[e].indexOf(n);if(-1===t)return;this.events[e].splice(t,1),"video"===this.type(e)&&this.player.video.removeEventListener(e,n)}},e.prototype.emit=function(e,n){this.events[e]&&this.events[e].length&&this.events[e].forEach((function(e){e(n)}))},e.prototype.once=function(e,n){var t=this,o=function(){for(var r=[],l=0;l<arguments.length;l++)r[l]=arguments[l];n.apply(void 0,r),t.off(e,o)};this.on(e,o)},e}();return function(){function n(n){var s=this;this.paused=!0,this.videoType="auto",this.duration=0,this.handleVideoEndByOuter=!1,this.onLoadedMetadata=function(){s.duration=s.clipEnd-s.clipStart||s.video.duration,s.controller.onTimeupdate()},this.onPlay=function(){s.paused=!1,s.controller.playButton&&(s.controller.playButton.innerHTML=l),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=i),s.controller.updateSeekBar()},this.onPause=function(){s.paused=!0,s.controller.playButton&&(s.controller.playButton.innerHTML=r),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=a),cancelAnimationFrame(s.controller.playRaf)},this.useHls=function(n){try{s.hls=new e,s.hls.loadSource(n.src),s.hls.attachMedia(n)}catch(e){console.error("Error: Can't find Hls.",e)}},this.destroyHls=function(){s.hls&&s.hls.destroy()},this.play=function(){return t(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.video.play()];case 1:return e.sent(),[2]}}))}))},this.pause=function(){return t(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.video.pause()];case 1:return e.sent(),[2]}}))}))},this.togglePlay=function(e){return t(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.video.paused?[4,this.play()]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.pause()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},this.seek=function(e){s.video.currentTime=Number(e)},this.mute=function(){s.video.muted=!s.video.muted,s.controller.volumeSlider.value=s.video.muted?"0":s.video.volume+"",s.controller.muteButton.innerHTML=s.video.muted?d:p},this.toggleFullScreen=function(){document.fullscreenElement?document.exitFullscreen():s.video.requestFullscreen?s.video.requestFullscreen():s.video.mozRequestFullScreen?s.video.mozRequestFullScreen():s.video.webkitRequestFullscreen?s.video.webkitRequestFullscreen():s.video.webkitSupportsFullscreen&&s.video.webkitEnterFullscreen()},this.handleWaterMarkShow=function(e){s.waterMark&&(s.waterMark.style.display=e?"block":"none")},this.mountController=function(e){s.options.controlOptions.nativeControls||(s.controller.removeMountTargetEvent(),s.controller.mountTarget=e,s.controller.initMountTargetEvent(),e.appendChild(s.controller.controlElement))},this.cutVideo=function(e,n){s.clipStart=e,s.clipEnd=n,s.duration=n-e,s.seek(e),s.controller.initTimeTip(),s.controller.updateSeekBar(!0)},this.destroy=function(){return t(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.destroyHls(),[4,this.pause()];case 1:return e.sent(),this.video.src="",this.container.innerHTML="",this.controller.destroy(),[2]}}))}))},this.container=n.container,this.options=n,this.clipStart=n.clipStart||0,this.clipEnd=n.clipEnd||0,this.handleVideoEndByOuter=n.handleVideoEndByOuter||!1,this.setup()}return n.prototype.setup=function(){this.videoContainer=document.createElement("div"),this.videoContainer.className="dz-player-container",this.videoContainer.style.width=this.options.width||"100%",this.videoContainer.style.height=this.options.height||"100%",this.videoContainer.innerHTML=function(e,n,t,o){o=o||function(e,n,t,o,r){var l=n.split("\n"),a=Math.max(o-3,0),i=Math.min(l.length,o+3),s=r(t),p=l.slice(a,i).map((function(e,n){var t=n+a+1;return(t==o?" >> ":"    ")+t+"| "+e})).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+e.message,e},n=n||function(e){return null==e?"":String(e).replace(l,a)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},l=/[&<>'"]/g;function a(e){return r[e]||e}var i=1;try{var s="";function p(e){null!=e&&(s+=e)}return p('<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="'),i=5,p(n(e.src)),p('"\n'),i=6,e.controlOptions.nativeControls&&p(" controls "),p("\n"),i=7,e.autoplay&&p(" autoplay "),p("\n"),i=8,e.muted&&p(" muted "),p("\n"),i=9,e.airplay&&p(" airplay "),p("\n"),i=10,e.airplay&&p(' x-webkit-airplay="allow" '),p("\n"),i=11,e.preload&&(p(' src="'),p(n(e.preload)),p('" ')),p("\n"),i=12,e.poster&&(p(' poster="'),p(n(e.poster)),p('" ')),p("\n"),i=13,e.crossOrigin&&(p(' src="'),p(n(e.crossOrigin)),p('" ')),p("\n"),i=14,e.customStyle&&(p(' style="'),p(n(e.customStyle)),p('" ')),p('\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>'),i=18,s}catch(c){o(c,'<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="<%= locals.src %>"\n<% if(locals.controlOptions.nativeControls){ %> controls <% } %>\n<% if(locals.autoplay){ %> autoplay <% } %>\n<% if(locals.muted){ %> muted <% } %>\n<% if(locals.airplay){ %> airplay <% } %>\n<% if(locals.airplay){ %> x-webkit-airplay="allow" <% } %>\n<% if(locals.preload){ %> src="<%= locals.preload %>" <% } %>\n<% if(locals.poster){ %> poster="<%= locals.poster %>" <% } %>\n<% if(locals.crossOrigin){ %> src="<%= locals.crossOrigin %>" <% } %>\n<% if(locals.customStyle){ %> style="<%= locals.customStyle %>" <% } %>\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>',void 0,i,n)}}(this.options),this.container.innerHTML="",this.container.appendChild(this.videoContainer),this.video=this.videoContainer.querySelector(".dz-player-video"),this.waterMark=this.videoContainer.querySelector(".dz-player-watermark"),this.waterMark&&(this.waterMark.style.backgroundImage="url(".concat(this.options.waterMarkUrl,")")),this.events=new x(this),this.initVideo(),this.controller=new w(this),this.handleWaterMarkShow(this.options.waterMarkShow),this.seek(this.clipStart)},n.prototype.initVideo=function(){var e=this;this.initMSE(this.video,this.options.type),this.on("play",this.onPlay),this.on("pause",this.onPause),this.on("ended",(function(){return t(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.clipEnd?[2]:this.options.loop?[3,2]:(!this.paused&&this.seek(this.clipStart),[4,this.pause()]);case 1:return e.sent(),[3,4];case 2:return!this.paused&&this.seek(this.clipStart),[4,this.play()];case 3:e.sent(),e.label=4;case 4:return this.controller.updateSeekBar(!0),[2]}}))}))})),this.on("loadedmetadata",this.onLoadedMetadata)},n.prototype.on=function(e,n){this.events.on(e,n)},n.prototype.once=function(e,n){this.events.once(e,n)},n.prototype.emit=function(e,n){this.events.emit(e,n)},n.prototype.off=function(e,n){this.events.off(e,n)},n.prototype.initMSE=function(e,n){switch(this.videoType=n,"hls"===n&&(this.videoType="hls",(e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegURL"))&&(this.videoType="hls"),/.mp4(#|\?|$)/i.exec(e.src)&&(this.videoType="normal")),"auto"===n&&(this.videoType="normal",/m3u8(#|\?|$)/i.exec(e.src)&&(this.videoType="hls"),/.flv(#|\?|$)/i.exec(e.src)&&(this.videoType="flv"),/.mpd(#|\?|$)/i.exec(e.src)&&(this.videoType="dash")),this.videoType){case"flv":console.error("暂不支持 flv 格式视频");break;case"dash":console.error("暂不支持 dash 格式视频");break;case"hls":this.useHls(e)}},n.prototype.volume=function(e){var n=parseFloat(e||0);return isNaN(n)||(n=Math.max(n,0),n=Math.min(n,1),this.video.volume=n,this.video.muted&&(this.video.muted=!1),this.controller.switchVolumeIcon()),this.video.volume},n}()}));
