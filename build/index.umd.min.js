/*!
 * dzPlayer 0.0.48
 * Author: ShoujieLi
 * Description: A Tiny Video Player for html5.
 * E-Mail: lishoujie08@gmail.com
 * Copyright 2024-2024 ShoujieLi. All Rights Reserved
 * Licensed under MIT (https://rem.mit-license.org/)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("hls.js")):"function"==typeof define&&define.amd?define(["hls.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).DzPlayer=t(e.Hls)}(this,(function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};function n(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}s((o=o.apply(e,t||[])).next())}))}function o(e,t){var n,o,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}"function"==typeof SuppressedError&&SuppressedError,function(e){if(!e)return;if("undefined"==typeof window)return;const t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t)}(".dz-player-control-bar input[type='range'] {\n  height: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  cursor: pointer; }\n  .dz-player-control-bar input[type='range']:focus {\n    outline: none; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-moz-range-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-ms-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-moz-range-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-ms-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-container {\n    overflow: hidden; }\n\n.dz-player-watermark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  background-repeat: no-repeat;\n  pointer-events: none; }\n\n.dz-player-hide-controller .dz-player-control-panel {\n  display: none; }\n\n.dz-player-control-panel {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  left: 0; }\n  .dz-player-control-panel .dz-player-play-icon,\n  .dz-player-control-panel .dz-player-loading {\n    color: white;\n    cursor: pointer;\n    overflow: hidden;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 50px;\n    height: 50px;\n    margin: auto;\n    box-sizing: border-box;\n    display: grid;\n    place-content: center;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n    .dz-player-control-panel .dz-player-play-icon svg,\n    .dz-player-control-panel .dz-player-loading svg {\n      width: 50px;\n      height: 50px; }\n\n@keyframes dz-player-loading-keyframes {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  .dz-player-control-panel .dz-player-loading {\n    pointer-events: none;\n    background-color: rgba(255, 255, 255, 0.4); }\n    .dz-player-control-panel .dz-player-loading svg {\n      animation: dz-player-loading-keyframes 1s infinite;\n      width: 40px;\n      height: 40px; }\n  .dz-player-control-panel .dz-player-control-bar {\n    position: absolute;\n    bottom: 0px;\n    left: 0;\n    width: 100%;\n    height: 50px;\n    user-select: none;\n    transition: all 0.5s ease;\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.5));\n    color: white;\n    padding: 0;\n    box-sizing: border-box;\n    display: flex;\n    gap: 0px 8px;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    flex-wrap: wrap;\n    align-content: center; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-progress {\n      position: relative;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: flex-start;\n      align-items: center;\n      align-content: center; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-seek-slider {\n        width: 100%;\n        flex: 1; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-play-time-tip {\n        display: none;\n        width: 50px;\n        text-align: center;\n        position: absolute;\n        top: -38px;\n        left: -10px;\n        pointer-events: none;\n        background-color: #000;\n        color: #fff;\n        padding: 5px;\n        border-radius: 4px;\n        font-size: 14px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-play-time-tip::after {\n          content: '';\n          position: absolute;\n          top: 100%;\n          left: 50%;\n          transform: translateX(-50%);\n          border-width: 6px;\n          border-style: solid;\n          border-color: #000 transparent transparent transparent; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-options {\n      width: 100%;\n      position: relative;\n      display: flex;\n      gap: 8px;\n      justify-content: space-between;\n      align-items: center;\n      flex-direction: row;\n      flex-wrap: wrap;\n      align-content: center;\n      padding: 6px 10px 0px 10px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left {\n        flex: 1;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n        align-items: center;\n        align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-play {\n          width: 20px;\n          height: 20px;\n          margin-right: 10px;\n          cursor: pointer; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-play svg {\n            width: 100%;\n            height: 100%; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush {\n          width: 20px;\n          height: 20px;\n          margin-right: 10px;\n          transition: all .3s;\n          -webkit-transition: all .3s;\n          cursor: pointer; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush svg {\n            width: 100%;\n            height: 100%; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush:hover {\n            transform: rotate(180deg);\n            -webkit-transform: rotate(180deg); }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .live-text {\n          white-space: nowrap;\n          -webkit-box-align: center;\n          -webkit-align-items: center;\n          -ms-flex-align: center;\n          align-items: center;\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          display: flex;\n          margin: 0;\n          padding: 0px;\n          scale: .8;\n          color: #fff;\n          font-size: 16px; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .live-text img {\n            width: 14px;\n            height: 14px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .dz-player-play-time {\n          font-family: Menlo, Courier New, Consolas, Lucida Console, Courier, monospace;\n          font-size: 14px;\n          text-align: center;\n          user-select: none;\n          min-width: 120px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-end;\n        align-items: center;\n        align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-custom-icon {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-custom-icon span {\n            font-size: 12px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio_over {\n            display: none;\n            width: 100%;\n            position: absolute;\n            height: 50px;\n            background: transparent;\n            bottom: 0;\n            left: 0; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio-text {\n            font-size: 12px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box {\n            display: none;\n            position: absolute;\n            bottom: 40px;\n            width: 60px;\n            max-width: 60px;\n            background: #33343f;\n            padding: 20px 0;\n            right: 50%;\n            transform: translate(50%);\n            height: auto;\n            color: #fff;\n            border-radius: 12px !important; }\n            .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap {\n              color: #fff;\n              font-size: 12px;\n              font-weight: 500;\n              line-height: 14px; }\n              .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item {\n                width: 100%;\n                text-align: center;\n                opacity: 0.7;\n                cursor: pointer;\n                margin-bottom: 16px;\n                line-height: 18px; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item:last-child {\n                  margin-bottom: 0; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item:hover {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item.select {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList_over {\n            width: 100%;\n            display: none;\n            position: absolute;\n            height: 50px;\n            background: transparent;\n            bottom: 0;\n            left: 0; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList-text {\n            font-size: 12px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box {\n            display: none;\n            position: absolute;\n            bottom: 40px;\n            width: 60px;\n            max-width: 60px;\n            background: #33343f;\n            padding: 20px 0;\n            right: 50%;\n            transform: translate(50%);\n            height: auto;\n            color: #fff;\n            border-radius: 12px !important; }\n            .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap {\n              color: #fff;\n              font-size: 12px;\n              font-weight: 500;\n              line-height: 14px; }\n              .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item {\n                width: 100%;\n                text-align: center;\n                opacity: 0.7;\n                cursor: pointer;\n                margin-bottom: 16px;\n                line-height: 18px; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item:last-child {\n                  margin-bottom: 0; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item:hover {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item.select {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right input.dz-player-volume-slider {\n          width: 0px;\n          transition: all 0.5s ease; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-volume-bar {\n          margin-right: 15px;\n          max-width: 80px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-volume-icon,\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-fullscreen {\n          display: inline-block;\n          width: 20px;\n          height: 20px;\n          text-align: center;\n          color: white;\n          cursor: pointer; }\n\n.dz-player-container {\n  position: relative;\n  overflow: hidden;\n  background-color: #000;\n  font-size: 12px !important; }\n  .dz-player-container .dz-player-video {\n    width: 100%;\n    height: 100%;\n    transform: translate(0px, 0px); }\n");var r='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M44.14 11.437a23.03 23.03 0 00-16.352-6.77 23.025 23.025 0 00-16.347 6.77 22.992 22.992 0 00-4.956 7.352 22.963 22.963 0 00-1.818 9c0 3.122.61 6.152 1.818 9.004a22.976 22.976 0 004.956 7.348 22.996 22.996 0 007.348 4.955 22.963 22.963 0 009 1.819 22.96 22.96 0 009.004-1.819 23.037 23.037 0 007.348-4.955 22.976 22.976 0 004.955-7.348 22.967 22.967 0 001.819-9.004c0-3.119-.611-6.148-1.819-9a22.992 22.992 0 00-4.955-7.352z" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M23.524 37.109a1.68 1.68 0 01-1.684 0 1.683 1.683 0 01-.84-1.456V20.349c0-.6.32-1.158.84-1.456a1.68 1.68 0 011.684 0l13.251 7.65a1.684 1.684 0 010 2.914L23.524 37.11z" fill="#FFF"/></g></svg>',i='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M49.498 18.917a23.2 23.2 0 00-5-7.419 23.238 23.238 0 00-16.5-6.832 23.234 23.234 0 00-16.496 6.832 23.2 23.2 0 00-5 7.419 23.17 23.17 0 00-1.835 9.081c0 3.15.616 6.208 1.835 9.085a23.184 23.184 0 005 7.415 23.204 23.204 0 007.415 5 23.17 23.17 0 009.081 1.835c3.15 0 6.208-.616 9.085-1.835a23.245 23.245 0 007.415-5 23.184 23.184 0 005-7.415 23.175 23.175 0 001.835-9.085 23.17 23.17 0 00-1.835-9.081" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M21.467 37.333V18.667h4.2v18.666h-4.2zm13.066-18.666v18.666h-4.2V18.667h4.2z" fill="#FFF"/></g></svg>',l='<svg t="1702888019089" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3681" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M137.830811 984.042017C112.737067 958.344279 99.771199 923.714631 102.020176 888.407991V135.641658c-2.249977-35.31264 10.715891-69.947288 35.807635-95.655025C162.917556 14.279895 197.889199-0.197958 234.407827 0.00204c27.409721 0.352996 54.295447 7.328925 78.219204 20.294793l530.544596 381.456115c45.646535 20.050796 75.955226 63.074358 78.589199 111.562864-2.265977 47.215519-31.599678 89.239091-75.987226 108.858891l-533.023571 381.638113c-23.977756 12.926868-50.903482 19.859798-78.342202 20.174794-36.513628 0.215998-71.484272-14.247855-96.577016-39.945593z" fill="#ffffff" p-id="3682"></path></svg>\n',a='<svg t="1702887843517" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1493" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M705.88416 61.44H782.336a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92h-76.45184a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92zM225.28 61.44h76.45184a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92H225.28a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92z" p-id="1494" fill="#ffffff"></path></svg>\n',s='<svg t="1702890958912" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4679" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64"><path d="M586.511059 279.130353a48.188235 48.188235 0 1 0 21.684706 93.906823l192.752941-44.574117a48.188235 48.188235 0 0 0 35.358118-60.837647l-57.344-190.042353a48.188235 48.188235 0 0 0-92.280471 27.828706l16.263529 53.970823a384.602353 384.602353 0 1 0 174.08 473.027765 54.211765 54.211765 0 0 0-101.376-38.430118 276.178824 276.178824 0 1 1-112.941176-332.619294l0.240941 0.120471-76.438588 17.648941z" fill="#ffffff" p-id="4680"></path></svg>\n',p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16zm4.576 0q0 2.72-1.536 5.056t-4 3.36q-.256.096-.448.096-.48 0-.832-.352t-.32-.8q0-.704.672-1.056 1.024-.512 1.376-.8 1.312-.96 2.048-2.4T22.848 16t-.736-3.104-2.048-2.4q-.352-.288-1.376-.8-.672-.352-.672-1.056 0-.448.32-.8t.8-.352q.224 0 .48.096 2.496 1.056 4 3.36T25.152 16z"/></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16z"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8z"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 33" fill="white"><path d="M6.667 28H1.334c-.8 0-1.333-.533-1.333-1.333v-5.333c0-.8.533-1.333 1.333-1.333s1.333.533 1.333 1.333v4h4c.8 0 1.333.533 1.333 1.333S7.467 28 6.667 28zm24 0h-5.333c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h4v-4c0-.8.533-1.333 1.333-1.333S32 20.534 32 21.334v5.333c0 .8-.533 1.333-1.333 1.333zm0-16c-.8 0-1.333-.533-1.333-1.333v-4h-4c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333v5.333c0 .8-.533 1.333-1.333 1.333zM1.333 12C.533 12 0 11.467 0 10.667V5.334c0-.8.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333s-.533 1.333-1.333 1.333h-4v4c0 .8-.533 1.333-1.333 1.333z"/></svg>',y='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"/></svg>';var h,v,f=function(e,t){var n=null;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n||(n=setTimeout((function(){e.apply(void 0,o),n=null}),t))}},m=function(e,t){var n=Math.pow(10,null!=t?t:0);if(e<59.9)return"".concat(e.toFixed(1),"s");var o=Math.floor(e/60),r=Math.floor(e%60*n)/n;return"".concat(o,":").concat(r<10?"0".concat(r):r)},g=/mobile/i.test(window.navigator.userAgent),b=function(e){if(0===(e=e||0)||e===1/0||"NaN"===e.toString())return"00:00";var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),o=Math.floor(e-3600*t-60*n);return(t>0?[t,n,o]:[n,o]).map((function(e){return e<10?"0"+e:""+e})).join(":")},x=function(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],o=window.atob(t[1]),r=o.length,i=new Uint8Array(r),l=0;l<r;++l)i[l]=o.charCodeAt(l);return new Blob([i],{type:n})},w=function(e){return"string"==typeof e},z=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},k=function(e){var t=this;this.initToolBar=function(){Object.keys(t.toolBarOptions).forEach((function(e){t.createElement(e,t.toolBarOptions[e])}))},this.createElement=function(e,n){t.iconElement=document.createElement("div"),t.iconElement.setAttribute("title",n.title),t.iconElement.className="dz-player-custom-icon ".concat(e," ").concat(n.icon),n.style&&t.iconElement.setAttribute("style",n.style),n.text&&(t.iconElement.innerHTML="<span>".concat(n.text,"</span>")),t.mountTarget.appendChild(t.iconElement),t.mountTarget.insertBefore(t.iconElement,t.mountTarget.firstChild),t.iconElement.addEventListener("click",(function(){n.click&&n.click(t.player)}))},this.player=e,this.toolBarOptions=e.options.toolBars||{},this.mountTarget=this.player.videoContainer.querySelector(".control-bar-right"),this.initToolBar()},B=function(){function e(e){var n=this;this.disableAutoHide=!1,this.playRaf=0,this.initControls=function(){n.controlElement=document.createElement("div"),n.controlElement.className="dz-player-control-panel",n.controlElement.innerHTML=function(e,t,n,o){o=o||function(e,t,n,o,r){var i=t.split("\n"),l=Math.max(o-3,0),a=Math.min(i.length,o+3),s=r(n),p=i.slice(l,a).map((function(e,t){var n=t+l+1;return(n==o?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+e.message,e},t=t||function(e){return null==e?"":String(e).replace(i,l)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function l(e){return r[e]||e}var a=1;try{var s="";function p(e){null!=e&&(s+=e)}return e.showControl&&(p('\n<div class="dz-player-play-icon"></div>\n<div\nclass="dz-player-control-bar"\ndata-type="'),a=5,p(t(e.srcType)),p('"\n'),a=6,e.controlStyle&&(p(' style="'),p(t(e.controlStyle)),p('" ')),p("\n>\n"),a=8,"hls"!=e.srcType&&(p('\n<div class="control-bar-progress">\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n</div>\n'),a=13),p('\n<div class="control-bar-options">\n<div class="control-bar-left">\n<div class="control-play"></div>\n'),a=17,"hls"==e.srcType?(p('\n<div alt="刷新" style="display: none;" class="control-flush"></div>\n<div class="live-text">LIVE</div>\n'),a=20):(p("\n"),a=21,e.playTime&&(p('\n<span class="dz-player-play-time">00:00 / 00:00</span>\n'),a=23),p("\n"),a=24),p('\n</div>\n<div class="control-bar-right">\n'),a=27,e.videoList&&(p('\n<div class="dz-player-videoList">\n<div class="dz-player-videoList_over"></div>\n<div class="dz-player-videoList-text">清晰度</div>\n<div class="videoList-box">\n<div class="videoList-box__wrap">\n'),a=33,e.videoList.forEach((function(e){p('\n<div class="videoList-box__wrap-item '),a=34,e.default&&p("select "),p('">'),p(e.label),p("</div>\n"),a=35})),p("\n</div>\n</div>\n</div>\n"),a=39),p("\n"),a=40,e.ratios&&(p('\n<div class="dz-player-playbackRatio">\n<div class="dz-player-playbackRatio_over"></div>\n<div class="dz-player-playbackRatio-text">倍速</div>\n<div class="playbackRatio-box">\n<div class="playbackRatio-box__wrap">\n'),a=46,e.ratios.forEach((function(e){p('\n<div class="playbackRatio-box__wrap-item" data-ratio="'),a=47,p(e.value),p('">'),p(e.label),p("</div>\n"),a=48})),p("\n</div>\n</div>\n</div>\n"),a=52),p("\n\x3c!-- 音量控制 --\x3e\n"),a=54,e.volumeControl&&(p('\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="'),a=57,p(t(e.volume)),p('" />\n</div>\n'),a=59),p("\n"),a=60,e.fullScreenControl&&(p('\n<i class="dz-player-fullscreen"></i>\n'),a=62),p("\n</div>\n</div>\n</div>\n"),a=66),p('\n<div class="dz-player-loading"></div>'),a=67,s}catch(c){o(c,'<% if(locals.showControl){ %>\n<div class="dz-player-play-icon"></div>\n<div\nclass="dz-player-control-bar"\ndata-type="<%= locals.srcType %>"\n<% if(locals.controlStyle){ %> style="<%= locals.controlStyle %>" <% } %>\n>\n<% if(locals.srcType != "hls"){ %>\n<div class="control-bar-progress">\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n</div>\n<% } %>\n<div class="control-bar-options">\n<div class="control-bar-left">\n<div class="control-play"></div>\n<% if(locals.srcType == "hls"){ %>\n<div alt="刷新" style="display: none;" class="control-flush"></div>\n<div class="live-text">LIVE</div>\n<% } else { %>\n<% if(locals.playTime){ %>\n<span class="dz-player-play-time">00:00 / 00:00</span>\n<% } %>\n<% } %>\n</div>\n<div class="control-bar-right">\n<% if(locals.videoList){ %>\n<div class="dz-player-videoList">\n<div class="dz-player-videoList_over"></div>\n<div class="dz-player-videoList-text">清晰度</div>\n<div class="videoList-box">\n<div class="videoList-box__wrap">\n<% locals.videoList.forEach(function(video){ %>\n<div class="videoList-box__wrap-item <% if(video.default){ %>select <% } %>"><%- video.label; %></div>\n<% }); %>\n</div>\n</div>\n</div>\n<% } %>\n<% if(locals.ratios){ %>\n<div class="dz-player-playbackRatio">\n<div class="dz-player-playbackRatio_over"></div>\n<div class="dz-player-playbackRatio-text">倍速</div>\n<div class="playbackRatio-box">\n<div class="playbackRatio-box__wrap">\n<% locals.ratios.forEach(function(ratio){ %>\n<div class="playbackRatio-box__wrap-item" data-ratio="<%- ratio.value; %>"><%- ratio.label; %></div>\n<% }); %>\n</div>\n</div>\n</div>\n<% } %>\n\x3c!-- 音量控制 --\x3e\n<% if(locals.volumeControl){ %>\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="<%= locals.volume %>" />\n</div>\n<% } %>\n<% if(locals.fullScreenControl){ %>\n<i class="dz-player-fullscreen"></i>\n<% } %>\n</div>\n</div>\n</div>\n<% } %>\n<div class="dz-player-loading"></div>',void 0,a,t)}}(t(t({},n.player.options.controlOptions||{}),{volume:n.player.options.volume,srcType:n.player.videoType,ratios:n.player.options.speedList,showControl:n.player.controls,videoList:w(n.player.options.url)?null:n.player.options.url})),!n.controlOptions.manualMount&&!n.controlOptions.nativeControls&&n.mountTarget.appendChild(n.controlElement),n.loading=n.controlElement.querySelector(".dz-player-loading"),n.loading&&(n.loading.innerHTML=y,n.loading.style.opacity="0"),n.bottomControlBar=n.controlElement.querySelector(".dz-player-control-bar"),n.bottomControlBar&&n.bottomControlBar.addEventListener("mousedown",(function(e){return e.stopPropagation()})),n.initPlayButton(),n.initControlPlayOrPauseButton(),n.initControlFlushButton(),n.initSeekBar(),n.initVolumeButton(),n.initFullScreenButton(),n.initPlaybackRate(),n.initPlayVideoList()},this.initPlayButton=function(){n.playButton=n.controlElement.querySelector(".dz-player-play-icon"),n.playButton&&(n.playButton.innerHTML=r,n.playButton.addEventListener("click",n.player.togglePlay))},this.initControlPlayOrPauseButton=function(){n.controlPlayButton=n.controlElement.querySelector(".control-play"),n.controlPlayButton&&(n.controlPlayButton.addEventListener("click",n.player.togglePlay),n.controlPlayButton.innerHTML=l)},this.initControlFlushButton=function(){n.controlFlushButton=n.controlElement.querySelector(".control-flush"),n.controlFlushButton&&(n.controlFlushButton.addEventListener("click",(function(){var e=n;e.player.pause(),e.player.video.currentTime=e.player.video.duration,e.player.play()})),n.controlFlushButton.innerHTML=s)},this.initSeekBar=function(){if(n.seekBar=n.controlElement.querySelector(".dz-player-seek-slider"),n.seekBar){var e=!1,t=function(t){t.stopPropagation(),e=!n.player.video.paused,n.player.pause()},o=function(t){t.stopPropagation(),e&&n.player.play()};n.playTime=n.controlElement.querySelector(".dz-player-play-time"),n.seekBar&&n.seekBar.addEventListener("mousedown",t),n.seekBar&&n.seekBar.addEventListener("mouseup",o),n.seekBar&&n.seekBar.addEventListener("touchstart",t),n.seekBar&&n.seekBar.addEventListener("touchend",o),n.seekBar&&n.seekBar.addEventListener("touchmove",(function(e){return e.stopPropagation()})),n.seekBar&&n.seekBar.addEventListener("input",n.onSeeking)}},this.initPlaybackRate=function(){var e,t,o;if(n.player.video.playbackRate=n.player.options.playbackRate||1,n.player.options.speedList){n.playBackRatio=n.controlElement.querySelector(".dz-player-playbackRatio");var r=null===(e=n.playBackRatio)||void 0===e?void 0:e.querySelector(".playbackRatio-box"),i=null===(t=n.playBackRatio)||void 0===t?void 0:t.querySelector(".dz-player-playbackRatio_over");if(null===(o=n.playBackRatio)||void 0===o||o.addEventListener("mouseenter",(function(){r.style.display="block",i.style.display="block",r.addEventListener("mouseleave",(function(){r.style.display="none",i.style.display="none"}))})),n.playBackRatio.addEventListener("mouseleave",(function(){r.style.display="none",i.style.display="none"})),n.playBackRatioItem=n.controlElement.querySelectorAll(".playbackRatio-box__wrap-item"),n.playBackRatioItem)for(var l=function(e){n.playBackRatioItem[e].addEventListener("click",(function(){var t,o,r;null===(o=null===(t=n.playBackRatio)||void 0===t?void 0:t.querySelector(".select"))||void 0===o||o.classList.remove("select"),n.playBackRatioItem&&(n.playBackRatioItem[e].classList.add("select"),n.player.options.speedList&&n.player.options.speedList[e]&&(n.player.video.playbackRate=n.player.options.speedList[e].value),(null===(r=n.playBackRatio)||void 0===r?void 0:r.querySelector(".dz-player-playbackRatio-text")).textContent=n.playBackRatioItem[e].innerText)}))},a=0;a<n.player.options.speedList.length;a++)l(a)}},this.initPlayVideoList=function(){var e,t,o,r,i;if(z(n.player.options.url)){n.playVideoList=n.controlElement.querySelector(".dz-player-videoList");var l=null===(e=n.playVideoList)||void 0===e?void 0:e.querySelector(".videoList-box"),a=null===(t=n.playVideoList)||void 0===t?void 0:t.querySelector(".dz-player-videoList-text"),s=null===(o=n.playVideoList)||void 0===o?void 0:o.querySelector(".dz-player-videoList_over");if(null===(r=n.playVideoList)||void 0===r||r.addEventListener("mouseenter",(function(){l.style.display="block",s.style.display="block",l.addEventListener("mouseleave",(function(){l.style.display="none",s.style.display="none"}))})),n.playVideoList.addEventListener("mouseleave",(function(){l.style.display="none",s.style.display="none"})),n.playVideoListItem=n.controlElement.querySelectorAll(".videoList-box__wrap-item"),n.playVideoListItem)for(var p=function(e){(null===(i=n.player.options.url[e])||void 0===i?void 0:i.default)&&(a.textContent=n.player.options.url[e].label),n.playVideoListItem[e].addEventListener("click",(function(){var t;if(null===(t=null==l?void 0:l.querySelector(".select"))||void 0===t||t.classList.remove("select"),n.playVideoListItem){if(n.playVideoListItem[e].classList.add("select"),n.player.options.url&&n.player.options.url[e]){var o=n.player.video.currentTime;n.player.src(n.player.options.url[e].value),n.player.video.currentTime=o,n.player.play()}a.textContent=n.playVideoListItem[e].innerText}}))},c=0;c<n.player.options.url.length;c++)p(c)}},this.initVolumeButton=function(){var e=n.player.options.volume?n.player.options.volume>1?n.player.options.volume/100:n.player.options.volume:1;n.player.video.volume=e,n.controlOptions.volumeControl&&(n.muteButton=n.controlElement.querySelector(".dz-player-volume-icon"),n.muteButton.addEventListener("click",n.player.mute),n.switchVolumeIcon(),n.volumeSlider=n.controlElement.querySelector(".dz-player-volume-slider"),n.volumeSlider.addEventListener("input",f(n.onVolumeChange,100)),n.volumeControlBar=n.controlElement.querySelector(".dz-player-volume-bar"),n.volumeControlBar.addEventListener("mouseenter",(function(){var e;null===(e=n.volumeSlider)||void 0===e||e.setAttribute("style","width:60px;")})),n.volumeControlBar.addEventListener("mouseleave",(function(){var e;null===(e=n.volumeSlider)||void 0===e||e.setAttribute("style","width:0px;")})))},this.initFullScreenButton=function(){n.fullScreenButton=n.controlElement.querySelector(".dz-player-fullscreen"),n.fullScreenButton&&(n.fullScreenButton.addEventListener("click",n.player.toggleFullScreen),n.fullScreenButton.innerHTML=u)},this.watchControlResize=function(){n.player.controls&&new ResizeObserver(f((function(e){for(var t=0,o=e;t<o.length;t++){var r=o[t];if(!r.contentBoxSize)return;var i=r.contentBoxSize[0],l=i.inlineSize,a=i.blockSize;n.playButton.style.display=a<40||l<40?"none":"grid",n.bottomControlBar.style.display=a<75||l<60?"none":"flex",n.playButton.style.scale=a<100||l<100?"0.5":"1",n.fullScreenButton&&l<200?n.fullScreenButton.style.display="none":n.fullScreenButton&&(n.fullScreenButton.style.display="block"),n.playTime&&l<330?n.playTime.style.display="none":n.playTime&&(n.playTime.style.display="block"),n.volumeControlBar&&l<400?n.volumeControlBar.style.display="none":n.volumeControlBar&&(n.volumeControlBar.style.display="flex")}}),30)).observe(n.controlElement)},this.initControlsEvent=function(){n.player.on("waiting",n.onWaiting),n.player.on("timeupdate",n.onTimeupdate),n.player.on("playing",n.onPlaying),n.player.on("canplay",(function(){return n.toggleLoading(!1)})),n.player.on("seeked",(function(){return n.onSeeked})),n.player.on("loadedmetadata",n.initTimeTip),n.player.on("pause",n.setAutoHide),n.player.on("play",n.setAutoHide),n.initMountTargetEvent(),n.watchControlResize()},this.initTimeTip=function(){var e=n.controlElement.querySelector(".dz-player-play-time-tip"),t=n.player.duration,o=!1,r=!1;n.seekBar&&n.seekBar.addEventListener("input",(function(n){var i=n.target;e.textContent=m(+i.value/100*t),g&&o&&!r&&(e.style.display="block")}));var i=function(i){var l=n.seekBar&&n.seekBar.clientWidth,a=0;if(i instanceof MouseEvent){e.style.display="block";var s=(a=i.offsetX)/l*t;e.textContent=m(s)}if(i instanceof TouchEvent){var p=i.touches[0],c=i.target.getBoundingClientRect();a=p.clientX-c.left,o=!0}(a<0||a>l)&&(e.style.display="none",r=!0),r=!1,e.style.left=a-e.clientWidth/2+"px"};n.seekBar&&n.seekBar.addEventListener("touchmove",i),n.seekBar&&n.seekBar.addEventListener("mousemove",i);var l=function(){setTimeout((function(){e.style.display="none",o=!1}),100)};n.seekBar&&n.seekBar.addEventListener("mouseleave",l),n.seekBar&&n.seekBar.addEventListener("touchend",l)},this.initMountTargetEvent=function(){g&&n.mountTarget.addEventListener("touchstart",n.setAutoHide),n.mountTarget.addEventListener("click",n.setAutoHide),n.mountTarget.addEventListener("mousemove",n.setAutoHide)},this.removeMountTargetEvent=function(){},this.setAutoHide=function(){n.show(),clearTimeout(n.autoHideTimer),n.autoHideTimer=window.setTimeout((function(){!n.player.paused&&n.hide()}),2e3)},this.show=function(){n.mountTarget.classList.remove("dz-player-hide-controller")},this.hide=function(){n.mountTarget.classList.add("dz-player-hide-controller")},this.toggle=function(){n.mountTarget.classList.contains("dz-player-hide-controller")?n.show():n.hide()},this.updateSeekBar=function(e){0===n.player.duration&&0===n.player.video.currentTime&&0===n.player.clipStart&&n.seekBar&&(n.seekBar.value="0"),e||(n.playRaf=window.requestAnimationFrame((function(){return n.updateSeekBar()})),n.seekBar&&(n.seekBar.value=((n.player.video.currentTime-n.player.clipStart)/n.player.duration*100).toString()))},this.onSeeking=function(e){e.preventDefault(),e.stopPropagation();var t=e.target,o=Number(parseFloat(t.value)/100*n.player.duration)+Number(n.player.clipStart);n.player.seek(o)},this.onSeeked=function(){n.playRaf&&cancelAnimationFrame(n.playRaf),n.updateSeekBar(!0)},this.onTimeupdate=function(){if(n.playTime||n.controlOptions.manualMount){var e=+n.seekBar.value*n.player.duration*.01;n.playTime&&(n.playTime.textContent="".concat(b(e<0?0:e)," / ").concat(b(n.player.duration)));var t=n.player.video.currentTime;!n.player.handleVideoEndByOuter&&n.player.clipEnd&&t>=n.player.clipEnd-.1&&(n.player.pause(),n.player.seek(Number(n.player.clipStart)),n.updateSeekBar(!0),n.player.options.loop&&n.player.play())}},this.onVolumeChange=function(e){var t=e.target;n.player.volume(Number(t.value))},this.onWaiting=function(){n.player.paused||(n.player.paused=!0),n.toggleLoading(!0)},this.onPlaying=function(){n.player.paused&&(n.player.paused=!1),n.toggleLoading(!1)},this.switchVolumeIcon=function(){n.controlOptions.volumeControl&&(n.player.video.muted||0===n.player.video.volume?n.muteButton.innerHTML=d:n.player.video.volume>0&&n.player.video.volume<1?n.muteButton.innerHTML=c:n.muteButton.innerHTML=p)},this.destroy=function(){clearTimeout(n.autoHideTimer)},this.player=e,this.controlOptions=e.options.controlOptions||{},this.mountTarget=this.controlOptions.mountTarget||this.player.videoContainer,this.initControls(),this.toolBar=new k(e),this.initControlsEvent()}return e.prototype.setVisible=function(e){e?this.show():this.hide()},e.prototype.toggleLoading=function(e){e?(this.loading.style.opacity="1",this.playButton.style.opacity="0"):(this.loading.style.opacity="0",this.playButton.style.opacity="1")},e}();!function(e){e.audioprocess="audioprocess",e.canplay="canplay",e.canplaythrough="canplaythrough",e.complete="complete",e.durationchange="durationchange",e.emptied="emptied",e.ended="ended",e.loadeddata="loadeddata",e.loadedmetadata="loadedmetadata",e.pause="pause",e.play="play",e.playing="playing",e.progress="progress",e.ratechange="ratechange",e.seeked="seeked",e.seeking="seeking",e.stalled="stalled",e.suspend="suspend",e.timeupdate="timeupdate",e.volumechange="volumechange",e.waiting="waiting",e.error="error",e.abort="abort",e.loadstart="loadstart",e.mozaudioavailable="mozaudioavailable"}(h||(h={})),function(e){e.destroy="destroy",e.resize="resize",e.screenshot="screenshot"}(v||(v={}));var L=function(){function e(e){this.events={},this.player=e,this.videoEvents=Object.keys(h).map((function(e){return h[e]})),this.playerEvents=Object.keys(v).map((function(e){return v[e]}))}return e.prototype.type=function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":(console.error("".concat(e," 事件不存在，请查看下文档")),null)},e.prototype.on=function(e,t){var n=this.type(e);if(n&&"function"!=typeof t)return console.error("".concat(e," 事件的回调函数必须是一个函数"));this.events[e]||(this.events[e]=[]),this.events[e].push(t),"video"===n&&this.player.video.addEventListener(e,t),"player"===n&&this.events[e].push(t)},e.prototype.off=function(e,t){if(this.type(e)&&this.events[e]&&this.events[e].length){var n=this.events[e].indexOf(t);if(-1===n)return;this.events[e].splice(n,1),"video"===this.type(e)&&this.player.video.removeEventListener(e,t)}},e.prototype.emit=function(e,t){this.events[e]&&this.events[e].length&&this.events[e].forEach((function(e){e(t)}))},e.prototype.once=function(e,t){var n=this,o=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(void 0,r),n.off(e,o)};this.on(e,o)},e}();return function(){function s(t){var s=this;this.paused=!0,this.videoType="auto",this.duration=0,this.handleVideoEndByOuter=!1,this.onLoadedMetadata=function(){s.duration=s.clipEnd-s.clipStart||s.video.duration,s.controller&&s.controller.onTimeupdate()},this.onPlay=function(){s.paused=!1,s.controller&&(s.controller.playButton&&(s.controller.playButton.innerHTML=i),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=a),s.controller.updateSeekBar())},this.onPause=function(){s.paused=!0,s.controller.playButton&&(s.controller.playButton.innerHTML=r),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=l),cancelAnimationFrame(s.controller.playRaf)},this.useHls=function(t){try{s.hls=new e,s.hls.loadSource(t.src),s.hls.attachMedia(t)}catch(e){console.error("Error: Can't find Hls.",e)}},this.destroyHls=function(){s.hls&&s.hls.destroy()},this.play=function(){return n(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.video.play()];case 1:return e.sent(),[2]}}))}))},this.pause=function(){return n(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.video.pause()];case 1:return e.sent(),[2]}}))}))},this.togglePlay=function(e){return n(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.video.paused?[4,this.play()]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.pause()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},this.seek=function(e){s.video.currentTime=Number(e)},this.mute=function(){s.video.muted=!s.video.muted,s.controller.volumeSlider.value=s.video.muted?"0":s.video.volume+"",s.controller.muteButton.innerHTML=s.video.muted?d:p},this.toggleFullScreen=function(){document.fullscreenElement?document.exitFullscreen():s.video.requestFullscreen?s.video.requestFullscreen():s.video.mozRequestFullScreen?s.video.mozRequestFullScreen():s.video.webkitRequestFullscreen?s.video.webkitRequestFullscreen():s.video.webkitSupportsFullscreen&&s.video.webkitEnterFullscreen()},this.src=function(e){return n(s,void 0,void 0,(function(){return o(this,(function(t){return this.video.setAttribute("src",e),this.video.load(),[2]}))}))},this.handleWaterMarkShow=function(){var e,t;s.waterMark=s.videoContainer.querySelector(".dz-player-watermark"),s.waterMark&&(null===(e=s.options.waterMark)||void 0===e?void 0:e.show)&&(s.waterMark.setAttribute("style",s.options.waterMark.style),s.waterMark.style.display="block",s.waterMark.style.backgroundImage="url(".concat(null===(t=s.options.waterMark)||void 0===t?void 0:t.url,")"))},this.mountController=function(e){s.controls&&(s.options.controlOptions&&s.options.controlOptions.nativeControls||(s.controller.removeMountTargetEvent(),s.controller.mountTarget=e,s.controller.initMountTargetEvent(),e.appendChild(s.controller.controlElement)))},this.cutVideo=function(e,t){s.clipStart=e,s.clipEnd=t,s.duration=t-e,s.seek(e),s.controls&&s.controller.initTimeTip(),s.controls&&s.controller.updateSeekBar(!0)},this.destroy=function(){return n(s,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.destroyHls(),[4,this.pause()];case 1:return e.sent(),this.video.src="",this.container.innerHTML="",this.controller&&this.controller.destroy(),[2]}}))}))},this.container=t.container,this.options=t,this.controls=null==t.controls||t.controls,this.clipStart=t.clipStart||0,this.clipEnd=t.clipEnd||0,this.handleVideoEndByOuter=t.handleVideoEndByOuter||!1,this.events=new L(this),this.setup()}return s.prototype.setup=function(){this.videoContainer=document.createElement("div"),this.videoContainer.className="dz-player-container",this.options.customStyle&&this.videoContainer.setAttribute("style",this.options.customStyle),this.videoContainer.style.width=this.options.width||"100%",this.videoContainer.style.height=this.options.height||"100%";var e="";if(w(this.options.url))e=this.options.url;else if(z(this.options.url)){var n=this.options.url;n.map((function(t){e=t.default?t.value:n[0].value}))}this.videoContainer.innerHTML=function(e,t,n,o){o=o||function(e,t,n,o,r){var i=t.split("\n"),l=Math.max(o-3,0),a=Math.min(i.length,o+3),s=r(n),p=i.slice(l,a).map((function(e,t){var n=t+l+1;return(n==o?" >> ":"    ")+n+"| "+e})).join("\n");throw e.path=s,e.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+e.message,e},t=t||function(e){return null==e?"":String(e).replace(i,l)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function l(e){return r[e]||e}var a=1;try{var s="";function p(e){null!=e&&(s+=e)}return p('<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="'),a=5,p(t(e.src)),p('"\n'),a=6,e.controlOptions&&e.controlOptions.nativeControls&&p(" controls "),p("\n"),a=7,e.autoplay&&p(" autoplay "),p("\n"),a=8,e.muted&&p(" muted "),p("\n"),a=9,e.airplay&&p(" airplay "),p("\n"),a=10,e.airplay&&p(' x-webkit-airplay="allow" '),p("\n"),a=11,e.preload&&(p(' preload="'),p(t(e.preload)),p('" ')),p("\n"),a=12,e.poster&&(p(' poster="'),p(t(e.poster)),p('" ')),p("\n"),a=13,e.crossOrigin&&(p(' crossorigin="'),p(t(e.crossOrigin)),p('" ')),p("\n"),a=14,e.videoStyle&&(p(' style="'),p(t(e.videoStyle)),p('" ')),p('\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>'),a=18,s}catch(c){o(c,'<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="<%= locals.src %>"\n<% if(locals.controlOptions && locals.controlOptions.nativeControls){ %> controls <% } %>\n<% if(locals.autoplay){ %> autoplay <% } %>\n<% if(locals.muted){ %> muted <% } %>\n<% if(locals.airplay){ %> airplay <% } %>\n<% if(locals.airplay){ %> x-webkit-airplay="allow" <% } %>\n<% if(locals.preload){ %> preload="<%= locals.preload %>" <% } %>\n<% if(locals.poster){ %> poster="<%= locals.poster %>" <% } %>\n<% if(locals.crossOrigin){ %> crossorigin="<%= locals.crossOrigin %>" <% } %>\n<% if(locals.videoStyle){ %> style="<%= locals.videoStyle %>" <% } %>\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>',void 0,a,t)}}(t(t({},this.options||{}),{src:e})),this.container.innerHTML="",this.container.appendChild(this.videoContainer),this.video=this.videoContainer.querySelector(".dz-player-video"),this.handleWaterMarkShow(),this.initVideo(),this.controls&&(this.controller=new B(this)),this.seek(this.clipStart)},s.prototype.initVideo=function(){var e=this;this.initMSE(this.video,this.options.type),this.on("play",this.onPlay),this.on("pause",this.onPause),this.on("ended",(function(){return n(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.clipEnd?[2]:this.options.loop?[3,2]:(!this.paused&&this.seek(this.clipStart),[4,this.pause()]);case 1:return e.sent(),[3,4];case 2:return!this.paused&&this.seek(this.clipStart),[4,this.play()];case 3:e.sent(),e.label=4;case 4:return this.controller&&this.controller.updateSeekBar(!0),[2]}}))}))})),this.on("loadedmetadata",this.onLoadedMetadata)},s.prototype.on=function(e,t){this.events.on(e,t)},s.prototype.once=function(e,t){this.events.once(e,t)},s.prototype.emit=function(e,t){this.events.emit(e,t)},s.prototype.off=function(e,t){this.events.off(e,t)},s.prototype.initMSE=function(e,t){switch(this.videoType=t,"hls"===t&&(this.videoType="hls",(e.canPlayType("application/x-mpegURL")||e.canPlayType("application/vnd.apple.mpegURL"))&&(this.videoType="hls"),/.mp4(#|\?|$)/i.exec(e.src)&&(this.videoType="normal")),"auto"===t&&(this.videoType="normal",/m3u8(#|\?|$)/i.exec(e.src)&&(this.videoType="hls"),/.flv(#|\?|$)/i.exec(e.src)&&(this.videoType="flv"),/.mpd(#|\?|$)/i.exec(e.src)&&(this.videoType="dash")),this.videoType){case"flv":console.error("暂不支持 flv 格式视频");break;case"dash":console.error("暂不支持 dash 格式视频");break;case"hls":this.useHls(e)}},s.prototype.volume=function(e){var t=parseFloat(e||this.video.volume);return isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),this.video.volume=t,this.video.muted&&(this.video.muted=!1),this.controller.switchVolumeIcon()),this.video.volume},s.prototype.screenshot=function(e,t){void 0===e&&(e=!0),void 0===t&&(t="screenshot.png");try{var n=document.createElement("canvas"),o=n.getContext("2d"),r=(m=this.video,g=m.videoWidth/m.videoHeight,b=m.offsetWidth,w=m.offsetHeight,b/w>g?b=w*g:w=b/g,{width:b,height:w});n.width=r.width,n.height=r.height;var i=this.video.videoWidth/this.video.videoHeight,l=n.width/n.height,a=this.video.videoWidth,s=this.video.videoHeight,p=void 0,c=void 0,d=void 0,u=0;return i>l?(d=n.width,u=n.width/i,p=0,c=Math.round((n.height-u)/2)):i===l?(d=n.width,u=n.height,p=0,c=0):i<l&&(d=n.height*i,u=n.height,p=Math.round((n.width-d)/2),c=0),null==o||o.drawImage(this.video,0,0,a,s,p,c,d,u),e&&n.toDataURL("image/png",1)&&(y=t,h=n.toDataURL(),v=document.createElement("a"),f=x(h),document.createEvent("HTMLEvents").initEvent("click",!0,!0),v.download=y,v.href=URL.createObjectURL(f),v.click()),n.toDataURL()||null}catch(e){return console.error(e),null}var y,h,v,f,m,g,b,w},s}()}));
