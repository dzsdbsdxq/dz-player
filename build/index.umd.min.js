/*!
 * dzPlayer 0.0.48
 * Author: ShoujieLi
 * Description: A Tiny Video Player for html5.
 * E-Mail: lishoujie08@gmail.com
 * Copyright 2024-2024 ShoujieLi. All Rights Reserved
 * Licensed under MIT (https://rem.mit-license.org/)
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("hls.js")):"function"==typeof define&&define.amd?define(["hls.js"],t):(n="undefined"!=typeof globalThis?globalThis:n||self).DzPlayer=t(n.Hls)}(this,(function(n){"use strict";var t=function(){return t=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},t.apply(this,arguments)};function e(n,t,e,o){return new(e||(e=Promise))((function(r,i){function l(n){try{s(o.next(n))}catch(n){i(n)}}function a(n){try{s(o.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(l,a)}s((o=o.apply(n,t||[])).next())}))}function o(n,t){var e,o,r,i,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(e=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(n,l)}catch(n){a=[6,n],o=0}finally{e=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}"function"==typeof SuppressedError&&SuppressedError,function(n){if(!n)return;if("undefined"==typeof window)return;const t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n,document.head.appendChild(t)}(".dz-player-control-bar input[type='range'] {\n  height: 10px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  cursor: pointer; }\n  .dz-player-control-bar input[type='range']:focus {\n    outline: none; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-runnable-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-moz-range-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-ms-track {\n    width: 100%;\n    height: 4px;\n    box-shadow: 0px 0px 0px #000000;\n    background: #d3d3d3;\n    border-radius: 1px;\n    border: 0px solid #000000; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-moz-range-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-ms-thumb {\n    -webkit-appearance: none;\n    appearance: none;\n    box-shadow: 0px 0px 0px #000000;\n    border: 1px solid #0163a5;\n    height: 12px;\n    width: 12px;\n    border-radius: 20px;\n    margin-top: -4px;\n    background-color: #fff;\n    border: 1px solid transparent;\n    border-image: linear-gradient(#fff, #fff) 0 fill/4 12 4 0/0px 0px 0 3000px; }\n  .dz-player-control-bar input[type='range']::-webkit-slider-container {\n    overflow: hidden; }\n\n.dz-player-watermark {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-size: 100%;\n  background-repeat: no-repeat;\n  pointer-events: none; }\n\n.dz-player-hide-controller .dz-player-control-panel {\n  display: none; }\n\n.dz-player-control-panel {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n  left: 0; }\n  .dz-player-control-panel .dz-player-play-icon,\n  .dz-player-control-panel .dz-player-loading {\n    color: white;\n    cursor: pointer;\n    overflow: hidden;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 50px;\n    height: 50px;\n    margin: auto;\n    box-sizing: border-box;\n    display: grid;\n    place-content: center;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\n    .dz-player-control-panel .dz-player-play-icon svg,\n    .dz-player-control-panel .dz-player-loading svg {\n      width: 50px;\n      height: 50px; }\n\n@keyframes dz-player-loading-keyframes {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n  .dz-player-control-panel .dz-player-loading {\n    pointer-events: none;\n    background-color: rgba(255, 255, 255, 0.4); }\n    .dz-player-control-panel .dz-player-loading svg {\n      animation: dz-player-loading-keyframes 1s infinite;\n      width: 40px;\n      height: 40px; }\n  .dz-player-control-panel .dz-player-control-bar {\n    position: absolute;\n    bottom: 0px;\n    left: 0;\n    width: 100%;\n    height: 50px;\n    user-select: none;\n    transition: all 0.5s ease;\n    background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.5));\n    color: white;\n    padding: 0;\n    box-sizing: border-box;\n    display: flex;\n    gap: 0px 8px;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    flex-wrap: wrap;\n    align-content: center; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-progress {\n      position: relative;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: flex-start;\n      align-items: center;\n      align-content: center;\n      margin-bottom: 6px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-seek-slider {\n        width: 100%;\n        flex: 1; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-play-time-tip {\n        display: none;\n        width: 50px;\n        text-align: center;\n        position: absolute;\n        top: -38px;\n        left: -10px;\n        pointer-events: none;\n        background-color: #000;\n        color: #fff;\n        padding: 5px;\n        border-radius: 4px;\n        font-size: 14px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-progress .dz-player-play-time-tip::after {\n          content: '';\n          position: absolute;\n          top: 100%;\n          left: 50%;\n          transform: translateX(-50%);\n          border-width: 6px;\n          border-style: solid;\n          border-color: #000 transparent transparent transparent; }\n    .dz-player-control-panel .dz-player-control-bar .control-bar-options {\n      width: 100%;\n      position: relative;\n      display: flex;\n      gap: 8px;\n      justify-content: space-between;\n      align-items: center;\n      flex-direction: row;\n      flex-wrap: wrap;\n      align-content: center;\n      padding: 0px 10px 0px 10px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left {\n        flex: 1;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-start;\n        align-items: center;\n        align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .dz-player-custom-icon {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .dz-player-custom-icon span {\n            font-size: 12px;\n            margin-left: 5px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-play {\n          width: 20px;\n          height: 20px;\n          margin-right: 10px;\n          cursor: pointer; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-play svg {\n            width: 100%;\n            height: 100%; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush {\n          width: 20px;\n          height: 20px;\n          margin-right: 10px;\n          transition: all .3s;\n          -webkit-transition: all .3s;\n          cursor: pointer; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush svg {\n            width: 100%;\n            height: 100%; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .control-flush:hover {\n            transform: rotate(180deg);\n            -webkit-transform: rotate(180deg); }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .live-text {\n          white-space: nowrap;\n          -webkit-box-align: center;\n          -webkit-align-items: center;\n          -ms-flex-align: center;\n          align-items: center;\n          display: -webkit-box;\n          display: -webkit-flex;\n          display: -ms-flexbox;\n          display: flex;\n          margin: 0;\n          padding: 0px;\n          scale: .8;\n          color: #fff;\n          font-size: 16px; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .live-text img {\n            width: 14px;\n            height: 14px; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-left .dz-player-play-time {\n          font-family: Menlo, Courier New, Consolas, Lucida Console, Courier, monospace;\n          font-size: 14px;\n          text-align: center;\n          user-select: none;\n          min-width: 120px; }\n      .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right {\n        display: flex;\n        flex-direction: row;\n        flex-wrap: wrap;\n        justify-content: flex-end;\n        align-items: center;\n        align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-custom-icon {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-custom-icon span {\n            font-size: 12px;\n            margin-left: 5px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio_over {\n            display: none;\n            width: 100%;\n            position: absolute;\n            height: 50px;\n            background: transparent;\n            bottom: 0;\n            left: 0; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio-text {\n            font-size: 12px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box {\n            display: none;\n            position: absolute;\n            bottom: 40px;\n            width: 60px;\n            max-width: 60px;\n            background: #33343f;\n            padding: 20px 0;\n            right: 50%;\n            transform: translate(50%);\n            height: auto;\n            color: #fff;\n            border-radius: 12px !important; }\n            .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap {\n              color: #fff;\n              font-size: 12px;\n              font-weight: 500;\n              line-height: 14px; }\n              .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item {\n                width: 100%;\n                text-align: center;\n                opacity: 0.7;\n                cursor: pointer;\n                margin-bottom: 16px;\n                line-height: 18px; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item:last-child {\n                  margin-bottom: 0; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item:hover {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-playbackRatio .playbackRatio-box__wrap-item.select {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList {\n          position: relative;\n          display: inline-block;\n          font-size: 12px;\n          height: 20px;\n          margin-right: 15px;\n          text-align: center;\n          color: white;\n          cursor: pointer;\n          display: flex;\n          flex-direction: row;\n          flex-wrap: nowrap;\n          justify-content: center;\n          align-items: center;\n          align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList_over {\n            width: 100%;\n            display: none;\n            position: absolute;\n            height: 50px;\n            background: transparent;\n            bottom: 0;\n            left: 0; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList-text {\n            font-size: 12px;\n            display: flex;\n            flex-direction: row;\n            flex-wrap: nowrap;\n            justify-content: center;\n            align-items: center;\n            align-content: center; }\n          .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box {\n            display: none;\n            position: absolute;\n            bottom: 40px;\n            width: 60px;\n            max-width: 60px;\n            background: #33343f;\n            padding: 20px 0;\n            right: 50%;\n            transform: translate(50%);\n            height: auto;\n            color: #fff;\n            border-radius: 12px !important; }\n            .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap {\n              color: #fff;\n              font-size: 12px;\n              font-weight: 500;\n              line-height: 14px; }\n              .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item {\n                width: 100%;\n                text-align: center;\n                opacity: 0.7;\n                cursor: pointer;\n                margin-bottom: 16px;\n                line-height: 18px; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item:last-child {\n                  margin-bottom: 0; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item:hover {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n                .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-videoList .videoList-box__wrap-item.select {\n                  opacity: 1;\n                  color: #fe2c55;\n                  font-weight: 500; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right input.dz-player-volume-slider {\n          width: 0px;\n          transition: all 0.5s ease; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-volume-bar {\n          margin-right: 15px;\n          max-width: 80px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center; }\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-volume-icon,\n        .dz-player-control-panel .dz-player-control-bar .control-bar-options .control-bar-right .dz-player-fullscreen {\n          display: inline-block;\n          width: 20px;\n          height: 20px;\n          text-align: center;\n          color: white;\n          cursor: pointer; }\n\n.dz-player-container {\n  position: relative;\n  overflow: hidden;\n  background-color: #000;\n  font-size: 12px !important; }\n  .dz-player-container .dz-player-video {\n    width: 100%;\n    height: 100%;\n    transform: translate(0px, 0px); }\n");var r='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M44.14 11.437a23.03 23.03 0 00-16.352-6.77 23.025 23.025 0 00-16.347 6.77 22.992 22.992 0 00-4.956 7.352 22.963 22.963 0 00-1.818 9c0 3.122.61 6.152 1.818 9.004a22.976 22.976 0 004.956 7.348 22.996 22.996 0 007.348 4.955 22.963 22.963 0 009 1.819 22.96 22.96 0 009.004-1.819 23.037 23.037 0 007.348-4.955 22.976 22.976 0 004.955-7.348 22.967 22.967 0 001.819-9.004c0-3.119-.611-6.148-1.819-9a22.992 22.992 0 00-4.955-7.352z" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M23.524 37.109a1.68 1.68 0 01-1.684 0 1.683 1.683 0 01-.84-1.456V20.349c0-.6.32-1.158.84-1.456a1.68 1.68 0 011.684 0l13.251 7.65a1.684 1.684 0 010 2.914L23.524 37.11z" fill="#FFF"/></g></svg>',i='<svg viewBox="0 0 56 56" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M49.498 18.917a23.2 23.2 0 00-5-7.419 23.238 23.238 0 00-16.5-6.832 23.234 23.234 0 00-16.496 6.832 23.2 23.2 0 00-5 7.419 23.17 23.17 0 00-1.835 9.081c0 3.15.616 6.208 1.835 9.085a23.184 23.184 0 005 7.415 23.204 23.204 0 007.415 5 23.17 23.17 0 009.081 1.835c3.15 0 6.208-.616 9.085-1.835a23.245 23.245 0 007.415-5 23.184 23.184 0 005-7.415 23.175 23.175 0 001.835-9.085 23.17 23.17 0 00-1.835-9.081" stroke-opacity=".6" stroke="#FFF" fill="#1B2337" opacity=".6"/><path d="M21.467 37.333V18.667h4.2v18.666h-4.2zm13.066-18.666v18.666h-4.2V18.667h4.2z" fill="#FFF"/></g></svg>',l='<svg t="1702888019089" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3681" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M137.830811 984.042017C112.737067 958.344279 99.771199 923.714631 102.020176 888.407991V135.641658c-2.249977-35.31264 10.715891-69.947288 35.807635-95.655025C162.917556 14.279895 197.889199-0.197958 234.407827 0.00204c27.409721 0.352996 54.295447 7.328925 78.219204 20.294793l530.544596 381.456115c45.646535 20.050796 75.955226 63.074358 78.589199 111.562864-2.265977 47.215519-31.599678 89.239091-75.987226 108.858891l-533.023571 381.638113c-23.977756 12.926868-50.903482 19.859798-78.342202 20.174794-36.513628 0.215998-71.484272-14.247855-96.577016-39.945593z" fill="#ffffff" p-id="3682"></path></svg>\n',a='<svg t="1702887843517" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1493" width="64" height="64" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M705.88416 61.44H782.336a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92h-76.45184a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92zM225.28 61.44h76.45184a81.92 81.92 0 0 1 81.92 81.92v737.28a81.92 81.92 0 0 1-81.92 81.92H225.28a81.92 81.92 0 0 1-81.92-81.92V143.36a81.92 81.92 0 0 1 81.92-81.92z" p-id="1494" fill="#ffffff"></path></svg>\n',s='<svg t="1702890958912" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4679" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64"><path d="M586.511059 279.130353a48.188235 48.188235 0 1 0 21.684706 93.906823l192.752941-44.574117a48.188235 48.188235 0 0 0 35.358118-60.837647l-57.344-190.042353a48.188235 48.188235 0 0 0-92.280471 27.828706l16.263529 53.970823a384.602353 384.602353 0 1 0 174.08 473.027765 54.211765 54.211765 0 0 0-101.376-38.430118 276.178824 276.178824 0 1 1-112.941176-332.619294l0.240941 0.120471-76.438588 17.648941z" fill="#ffffff" p-id="4680"></path></svg>\n',p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16zm4.576 0q0 2.72-1.536 5.056t-4 3.36q-.256.096-.448.096-.48 0-.832-.352t-.32-.8q0-.704.672-1.056 1.024-.512 1.376-.8 1.312-.96 2.048-2.4T22.848 16t-.736-3.104-2.048-2.4q-.352-.288-1.376-.8-.672-.352-.672-1.056 0-.448.32-.8t.8-.352q.224 0 .48.096 2.496 1.056 4 3.36T25.152 16z"/></svg>',c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8zM20.576 16q0 1.344-.768 2.528t-2.016 1.664q-.16.096-.448.096-.448 0-.8-.32t-.32-.832q0-.384.192-.64t.544-.448.608-.384.512-.64.192-1.024-.192-1.024-.512-.64-.608-.384-.544-.448-.192-.64q0-.48.32-.832t.8-.32q.288 0 .448.096 1.248.48 2.016 1.664T20.576 16z"/></svg>',d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="white"><path d="M13.728 6.272v19.456q0 .448-.352.8t-.8.32-.8-.32l-5.952-5.952H1.152q-.48 0-.8-.352t-.352-.8v-6.848q0-.48.352-.8t.8-.352h4.672l5.952-5.952q.32-.32.8-.32t.8.32.352.8z"/></svg>',u='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 33" fill="white"><path d="M6.667 28H1.334c-.8 0-1.333-.533-1.333-1.333v-5.333c0-.8.533-1.333 1.333-1.333s1.333.533 1.333 1.333v4h4c.8 0 1.333.533 1.333 1.333S7.467 28 6.667 28zm24 0h-5.333c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h4v-4c0-.8.533-1.333 1.333-1.333S32 20.534 32 21.334v5.333c0 .8-.533 1.333-1.333 1.333zm0-16c-.8 0-1.333-.533-1.333-1.333v-4h-4c-.8 0-1.333-.533-1.333-1.333s.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333v5.333c0 .8-.533 1.333-1.333 1.333zM1.333 12C.533 12 0 11.467 0 10.667V5.334c0-.8.533-1.333 1.333-1.333h5.333c.8 0 1.333.533 1.333 1.333s-.533 1.333-1.333 1.333h-4v4c0 .8-.533 1.333-1.333 1.333z"/></svg>',y='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"/></svg>';var h,v,f=function(n,t){var e=null;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];e||(e=setTimeout((function(){n.apply(void 0,o),e=null}),t))}},g=function(n,t){var e=Math.pow(10,null!=t?t:0);if(n<59.9)return"".concat(n.toFixed(1),"s");var o=Math.floor(n/60),r=Math.floor(n%60*e)/e;return"".concat(o,":").concat(r<10?"0".concat(r):r)},m=/mobile/i.test(window.navigator.userAgent),b=function(n){if(0===(n=n||0)||n===1/0||"NaN"===n.toString())return"00:00";var t=Math.floor(n/3600),e=Math.floor((n-3600*t)/60),o=Math.floor(n-3600*t-60*e);return(t>0?[t,e,o]:[e,o]).map((function(n){return n<10?"0"+n:""+n})).join(":")},x=function(n){for(var t=n.split(";base64,"),e=t[0].split(":")[1],o=window.atob(t[1]),r=o.length,i=new Uint8Array(r),l=0;l<r;++l)i[l]=o.charCodeAt(l);return new Blob([i],{type:e})},w=function(n){return"string"==typeof n},z=function(n){return"function"==typeof Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)},k=function(n){var t=this;this.initToolBar=function(){Object.keys(t.toolBarOptions).forEach((function(n){t.createElement(n,t.toolBarOptions[n])}))},this.createElement=function(n,e){t.mountTarget=t.player.videoContainer.querySelector(".control-bar-right"),e.position&&"left"==e.position&&(t.mountTarget=t.player.videoContainer.querySelector(".control-bar-left")),t.iconElement=document.createElement("div"),t.iconElement.setAttribute("title",e.title),t.iconElement.className="dz-player-custom-icon ".concat(n," ").concat(e.icon),e.style&&t.iconElement.setAttribute("style",e.style),e.text&&(t.iconElement.innerHTML="<span>".concat(e.text,"</span>")),t.mountTarget.appendChild(t.iconElement),e.position&&"left"==e.position?t.mountTarget.appendChild(t.iconElement):t.mountTarget.insertBefore(t.iconElement,t.mountTarget.firstChild),t.iconElement.addEventListener("click",(function(){e.click&&e.click(t.player)}))},this.player=n,this.toolBarOptions=n.options.toolBars||{},this.initToolBar()},B=function(){function n(n){var e=this;this.disableAutoHide=!1,this.playRaf=0,this.initControls=function(){var n;e.controlElement=document.createElement("div"),e.controlElement.className="dz-player-control-panel",e.controlElement.innerHTML=function(n,t,e,o){o=o||function(n,t,e,o,r){var i=t.split("\n"),l=Math.max(o-3,0),a=Math.min(i.length,o+3),s=r(e),p=i.slice(l,a).map((function(n,t){var e=t+l+1;return(e==o?" >> ":"    ")+e+"| "+n})).join("\n");throw n.path=s,n.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+n.message,n},t=t||function(n){return null==n?"":String(n).replace(i,l)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function l(n){return r[n]||n}var a=1;try{var s="";function p(n){null!=n&&(s+=n)}return n.showControl&&(p("\n"),a=2,n.bigPlayControl&&(p('\n<div class="dz-player-play-icon"></div>\n'),a=4),p('\n<div\nclass="dz-player-control-bar"\ndata-type="'),a=7,p(t(n.srcType)),p('"\n'),a=8,n.controlStyle&&(p(' style="'),p(t(n.controlStyle)),p('" ')),p("\n>\n"),a=10,"hls"!=n.srcType&&(p('\n<div class="control-bar-progress">\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n</div>\n'),a=15),p('\n<div class="control-bar-options">\n<div class="control-bar-left">\n<div class="control-play"></div>\n'),a=19,"hls"==n.srcType?(p("\n"),a=20,n.flushControl&&(p('\n<div alt="刷新" class="control-flush"></div>\n'),a=22),p('\n<div class="live-text" style="display: none;">LIVE</div>\n'),a=24):(p("\n"),a=25,n.playTime&&(p('\n<span class="dz-player-play-time">00:00 / 00:00</span>\n'),a=27),p("\n"),a=28),p('\n</div>\n<div class="control-bar-right">\n'),a=31,n.videoList&&(p('\n<div class="dz-player-videoList">\n<div class="dz-player-videoList_over"></div>\n<div class="dz-player-videoList-text">清晰度</div>\n<div class="videoList-box">\n<div class="videoList-box__wrap">\n'),a=37,n.videoList.forEach((function(n){p('\n<div class="videoList-box__wrap-item '),a=38,n.default&&p("select "),p('">'),p(n.label),p("</div>\n"),a=39})),p("\n</div>\n</div>\n</div>\n"),a=43),p("\n"),a=44,n.ratios&&(p('\n<div class="dz-player-playbackRatio">\n<div class="dz-player-playbackRatio_over"></div>\n<div class="dz-player-playbackRatio-text">倍速</div>\n<div class="playbackRatio-box">\n<div class="playbackRatio-box__wrap">\n'),a=50,n.ratios.forEach((function(n){p('\n<div class="playbackRatio-box__wrap-item" data-ratio="'),a=51,p(n.value),p('">'),p(n.label),p("</div>\n"),a=52})),p("\n</div>\n</div>\n</div>\n"),a=56),p("\n\x3c!-- 音量控制 --\x3e\n"),a=58,n.volumeControl&&(p('\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="'),a=61,p(t(n.volume)),p('" />\n</div>\n'),a=63),p("\n"),a=64,n.fullScreenControl&&(p('\n<i class="dz-player-fullscreen"></i>\n'),a=66),p("\n</div>\n</div>\n</div>\n"),a=70),p('\n<div class="dz-player-loading"></div>'),a=71,s}catch(c){o(c,'<% if(locals.showControl){ %>\n<% if(locals.bigPlayControl){ %>\n<div class="dz-player-play-icon"></div>\n<% } %>\n<div\nclass="dz-player-control-bar"\ndata-type="<%= locals.srcType %>"\n<% if(locals.controlStyle){ %> style="<%= locals.controlStyle %>" <% } %>\n>\n<% if(locals.srcType != "hls"){ %>\n<div class="control-bar-progress">\n<input type="range" class="dz-player-seek-slider" min="0" max="100" step="any" value="0" />\n<span class="dz-player-play-time-tip">0.0</span>\n</div>\n<% } %>\n<div class="control-bar-options">\n<div class="control-bar-left">\n<div class="control-play"></div>\n<% if(locals.srcType == "hls"){ %>\n<% if(locals.flushControl){ %>\n<div alt="刷新" class="control-flush"></div>\n<% } %>\n<div class="live-text" style="display: none;">LIVE</div>\n<% } else { %>\n<% if(locals.playTime){ %>\n<span class="dz-player-play-time">00:00 / 00:00</span>\n<% } %>\n<% } %>\n</div>\n<div class="control-bar-right">\n<% if(locals.videoList){ %>\n<div class="dz-player-videoList">\n<div class="dz-player-videoList_over"></div>\n<div class="dz-player-videoList-text">清晰度</div>\n<div class="videoList-box">\n<div class="videoList-box__wrap">\n<% locals.videoList.forEach(function(video){ %>\n<div class="videoList-box__wrap-item <% if(video.default){ %>select <% } %>"><%- video.label; %></div>\n<% }); %>\n</div>\n</div>\n</div>\n<% } %>\n<% if(locals.ratios){ %>\n<div class="dz-player-playbackRatio">\n<div class="dz-player-playbackRatio_over"></div>\n<div class="dz-player-playbackRatio-text">倍速</div>\n<div class="playbackRatio-box">\n<div class="playbackRatio-box__wrap">\n<% locals.ratios.forEach(function(ratio){ %>\n<div class="playbackRatio-box__wrap-item" data-ratio="<%- ratio.value; %>"><%- ratio.label; %></div>\n<% }); %>\n</div>\n</div>\n</div>\n<% } %>\n\x3c!-- 音量控制 --\x3e\n<% if(locals.volumeControl){ %>\n<div class="dz-player-volume-bar">\n<i class="dz-player-volume-icon"></i>\n<input type="range" class="dz-player-volume-slider" min="0" max="1" step="0.01" value="<%= locals.volume %>" />\n</div>\n<% } %>\n<% if(locals.fullScreenControl){ %>\n<i class="dz-player-fullscreen"></i>\n<% } %>\n</div>\n</div>\n</div>\n<% } %>\n<div class="dz-player-loading"></div>',void 0,a,t)}}(t(t({},e.player.options.controlOptions||{}),{volume:e.player.options.volume,srcType:e.player.videoType,ratios:(null===(n=e.player.options.speedList)||void 0===n?void 0:n.length)?e.player.options.speedList:null,showControl:e.player.controls,videoList:w(e.player.options.url)?null:e.player.options.url})),!e.controlOptions.manualMount&&!e.controlOptions.nativeControls&&e.mountTarget.appendChild(e.controlElement),e.loading=e.controlElement.querySelector(".dz-player-loading"),e.loading&&(e.loading.innerHTML=y,e.loading.style.opacity="0"),e.bottomControlBar=e.controlElement.querySelector(".dz-player-control-bar"),e.bottomControlBar&&e.bottomControlBar.addEventListener("mousedown",(function(n){return n.stopPropagation()})),e.initPlayButton(),e.initControlPlayOrPauseButton(),e.initControlFlushButton(),e.initSeekBar(),e.initVolumeButton(),e.initFullScreenButton(),e.initPlaybackRate(),e.initPlayVideoList()},this.initPlayButton=function(){e.playButton=e.controlElement.querySelector(".dz-player-play-icon"),e.playButton&&(e.playButton.innerHTML=r,e.playButton.addEventListener("click",e.player.togglePlay))},this.initControlPlayOrPauseButton=function(){e.controlPlayButton=e.controlElement.querySelector(".control-play"),e.controlPlayButton&&(e.controlPlayButton.addEventListener("click",e.player.togglePlay),e.controlPlayButton.innerHTML=l)},this.initControlFlushButton=function(){e.controlFlushButton=e.controlElement.querySelector(".control-flush"),e.controlFlushButton&&(e.controlFlushButton.addEventListener("click",(function(){var n=e;n.player.pause(),n.player.video.currentTime=n.player.video.duration,n.player.play()})),e.controlFlushButton.innerHTML=s)},this.initSeekBar=function(){if(e.seekBar=e.controlElement.querySelector(".dz-player-seek-slider"),e.seekBar){var n=!1,t=function(t){t.stopPropagation(),n=!e.player.video.paused,e.player.pause()},o=function(t){t.stopPropagation(),n&&e.player.play()};e.playTime=e.controlElement.querySelector(".dz-player-play-time"),e.seekBar&&e.seekBar.addEventListener("mousedown",t),e.seekBar&&e.seekBar.addEventListener("mouseup",o),e.seekBar&&e.seekBar.addEventListener("touchstart",t),e.seekBar&&e.seekBar.addEventListener("touchend",o),e.seekBar&&e.seekBar.addEventListener("touchmove",(function(n){return n.stopPropagation()})),e.seekBar&&e.seekBar.addEventListener("input",e.onSeeking)}},this.initPlaybackRate=function(){var n,t,o,r,i;if(e.player.video.playbackRate=e.player.options.playbackRate||1,(null===(n=e.player.options.speedList)||void 0===n?void 0:n.length)&&(e.playBackRatio=e.controlElement.querySelector(".dz-player-playbackRatio"),e.playBackRatio)){var l=null===(t=e.playBackRatio)||void 0===t?void 0:t.querySelector(".playbackRatio-box"),a=null===(o=e.playBackRatio)||void 0===o?void 0:o.querySelector(".dz-player-playbackRatio_over");if(null===(r=e.playBackRatio)||void 0===r||r.addEventListener("mouseenter",(function(){l.style.display="block",a.style.display="block",l.addEventListener("mouseleave",(function(){l.style.display="none",a.style.display="none"}))})),e.playBackRatio.addEventListener("mouseleave",(function(){l.style.display="none",a.style.display="none"})),e.playBackRatioItem=e.controlElement.querySelectorAll(".playbackRatio-box__wrap-item"),e.playBackRatioItem)for(var s=function(n){e.playBackRatioItem[n].addEventListener("click",(function(){var t,o,r;null===(o=null===(t=e.playBackRatio)||void 0===t?void 0:t.querySelector(".select"))||void 0===o||o.classList.remove("select"),e.playBackRatioItem&&(e.playBackRatioItem[n].classList.add("select"),e.player.options.speedList&&e.player.options.speedList[n]&&(e.player.video.playbackRate=e.player.options.speedList[n].value),(null===(r=e.playBackRatio)||void 0===r?void 0:r.querySelector(".dz-player-playbackRatio-text")).textContent=e.playBackRatioItem[n].innerText)}))},p=0;p<(null===(i=e.player.options.speedList)||void 0===i?void 0:i.length);p++)s(p)}},this.initPlayVideoList=function(){var n,t,o,r,i;if(z(e.player.options.url)&&(e.playVideoList=e.controlElement.querySelector(".dz-player-videoList"),e.playVideoList)){var l=null===(n=e.playVideoList)||void 0===n?void 0:n.querySelector(".videoList-box"),a=null===(t=e.playVideoList)||void 0===t?void 0:t.querySelector(".dz-player-videoList-text"),s=null===(o=e.playVideoList)||void 0===o?void 0:o.querySelector(".dz-player-videoList_over");if(null===(r=e.playVideoList)||void 0===r||r.addEventListener("mouseenter",(function(){l.style.display="block",s.style.display="block",l.addEventListener("mouseleave",(function(){l.style.display="none",s.style.display="none"}))})),e.playVideoList.addEventListener("mouseleave",(function(){l.style.display="none",s.style.display="none"})),e.playVideoListItem=e.controlElement.querySelectorAll(".videoList-box__wrap-item"),e.playVideoListItem)for(var p=function(n){(null===(i=e.player.options.url[n])||void 0===i?void 0:i.default)&&(a.textContent=e.player.options.url[n].label),e.playVideoListItem[n].addEventListener("click",(function(){var t;if(null===(t=null==l?void 0:l.querySelector(".select"))||void 0===t||t.classList.remove("select"),e.playVideoListItem){if(e.playVideoListItem[n].classList.add("select"),e.player.options.url&&e.player.options.url[n]){var o=e.player.video.currentTime;e.player.src(e.player.options.url[n].value),e.player.video.currentTime=o,e.player.play()}a.textContent=e.playVideoListItem[n].innerText}}))},c=0;c<e.player.options.url.length;c++)p(c)}},this.initVolumeButton=function(){var n=e.player.options.volume?e.player.options.volume>1?e.player.options.volume/100:e.player.options.volume:1;e.player.video.volume=n,e.controlOptions.volumeControl&&(e.muteButton=e.controlElement.querySelector(".dz-player-volume-icon"),e.muteButton.addEventListener("click",e.player.mute),e.switchVolumeIcon(),e.volumeSlider=e.controlElement.querySelector(".dz-player-volume-slider"),e.volumeSlider.addEventListener("input",f(e.onVolumeChange,100)),e.volumeControlBar=e.controlElement.querySelector(".dz-player-volume-bar"),e.volumeControlBar.addEventListener("mouseenter",(function(){var n;null===(n=e.volumeSlider)||void 0===n||n.setAttribute("style","width:60px;")})),e.volumeControlBar.addEventListener("mouseleave",(function(){var n;null===(n=e.volumeSlider)||void 0===n||n.setAttribute("style","width:0px;")})))},this.initFullScreenButton=function(){e.fullScreenButton=e.controlElement.querySelector(".dz-player-fullscreen"),e.fullScreenButton&&(e.fullScreenButton.addEventListener("click",e.player.toggleFullScreen),e.fullScreenButton.innerHTML=u)},this.watchControlResize=function(){e.player.controls&&new ResizeObserver(f((function(n){for(var t=0,o=n;t<o.length;t++){var r=o[t];if(!r.contentBoxSize)return;var i=r.contentBoxSize[0],l=i.inlineSize,a=i.blockSize;e.playButton&&(e.playButton.style.display=a<40||l<40?"none":"grid"),e.bottomControlBar.style.display=a<75||l<60?"none":"flex",e.playButton&&(e.playButton.style.scale=a<100||l<100?"0.5":"1"),e.fullScreenButton&&l<200?e.fullScreenButton.style.display="none":e.fullScreenButton&&(e.fullScreenButton.style.display="block"),e.playTime&&l<330?e.playTime.style.display="none":e.playTime&&(e.playTime.style.display="block"),e.volumeControlBar&&l<400?e.volumeControlBar.style.display="none":e.volumeControlBar&&(e.volumeControlBar.style.display="flex")}}),30)).observe(e.controlElement)},this.initControlsEvent=function(){e.player.on("waiting",e.onWaiting),e.player.on("timeupdate",e.onTimeupdate),e.player.on("playing",e.onPlaying),e.player.on("canplay",(function(){return e.toggleLoading(!1)})),e.player.on("seeked",(function(){return e.onSeeked})),e.player.on("loadedmetadata",e.initTimeTip),e.player.on("pause",e.setAutoHide),e.player.on("play",e.setAutoHide),e.initMountTargetEvent(),e.watchControlResize()},this.initTimeTip=function(){var n=e.controlElement.querySelector(".dz-player-play-time-tip"),t=e.player.duration,o=!1,r=!1;e.seekBar&&e.seekBar.addEventListener("input",(function(e){var i=e.target;n.textContent=g(+i.value/100*t),m&&o&&!r&&(n.style.display="block")}));var i=function(i){var l=e.seekBar&&e.seekBar.clientWidth,a=0;if(i instanceof MouseEvent){n.style.display="block";var s=(a=i.offsetX)/l*t;n.textContent=g(s)}if(i instanceof TouchEvent){var p=i.touches[0],c=i.target.getBoundingClientRect();a=p.clientX-c.left,o=!0}(a<0||a>l)&&(n.style.display="none",r=!0),r=!1,n.style.left=a-n.clientWidth/2+"px"};e.seekBar&&e.seekBar.addEventListener("touchmove",i),e.seekBar&&e.seekBar.addEventListener("mousemove",i);var l=function(){setTimeout((function(){n.style.display="none",o=!1}),100)};e.seekBar&&e.seekBar.addEventListener("mouseleave",l),e.seekBar&&e.seekBar.addEventListener("touchend",l)},this.initMountTargetEvent=function(){m&&e.mountTarget.addEventListener("touchstart",e.setAutoHide),e.mountTarget.addEventListener("click",e.setAutoHide),e.mountTarget.addEventListener("mousemove",e.setAutoHide)},this.removeMountTargetEvent=function(){},this.setAutoHide=function(){e.show(),clearTimeout(e.autoHideTimer),e.autoHideTimer=window.setTimeout((function(){!e.player.paused&&e.hide()}),2e3)},this.show=function(){e.mountTarget.classList.remove("dz-player-hide-controller")},this.hide=function(){e.mountTarget.classList.add("dz-player-hide-controller")},this.toggle=function(){e.mountTarget.classList.contains("dz-player-hide-controller")?e.show():e.hide()},this.updateSeekBar=function(n){0===e.player.duration&&0===e.player.video.currentTime&&0===e.player.clipStart&&e.seekBar&&(e.seekBar.value="0"),n||(e.playRaf=window.requestAnimationFrame((function(){return e.updateSeekBar()})),e.seekBar&&(e.seekBar.value=((e.player.video.currentTime-e.player.clipStart)/e.player.duration*100).toString()))},this.onSeeking=function(n){n.preventDefault(),n.stopPropagation();var t=n.target,o=Number(parseFloat(t.value)/100*e.player.duration)+Number(e.player.clipStart);e.player.seek(o)},this.onSeeked=function(){e.playRaf&&cancelAnimationFrame(e.playRaf),e.updateSeekBar(!0)},this.onTimeupdate=function(){if(e.playTime||e.controlOptions.manualMount){var n=+e.seekBar.value*e.player.duration*.01;e.playTime&&(e.playTime.textContent="".concat(b(n<0?0:n)," / ").concat(b(e.player.duration)));var t=e.player.video.currentTime;!e.player.handleVideoEndByOuter&&e.player.clipEnd&&t>=e.player.clipEnd-.1&&(e.player.pause(),e.player.seek(Number(e.player.clipStart)),e.updateSeekBar(!0),e.player.options.loop&&e.player.play())}},this.onVolumeChange=function(n){var t=n.target;e.player.volume(Number(t.value))},this.onWaiting=function(){e.player.paused||(e.player.paused=!0),e.toggleLoading(!0)},this.onPlaying=function(){e.player.paused&&(e.player.paused=!1),e.toggleLoading(!1)},this.switchVolumeIcon=function(){e.controlOptions.volumeControl&&(e.player.video.muted||0===e.player.video.volume?e.muteButton.innerHTML=d:e.player.video.volume>0&&e.player.video.volume<1?e.muteButton.innerHTML=c:e.muteButton.innerHTML=p)},this.destroy=function(){clearTimeout(e.autoHideTimer)},this.player=n,this.controlOptions=n.options.controlOptions||{},this.mountTarget=this.controlOptions.mountTarget||this.player.videoContainer,this.initControls(),this.toolBar=new k(n),this.initControlsEvent()}return n.prototype.setVisible=function(n){n?this.show():this.hide()},n.prototype.toggleLoading=function(n){n?(this.loading.style.opacity="1",this.playButton&&(this.playButton.style.opacity="0")):(this.loading.style.opacity="0",this.playButton&&(this.playButton.style.opacity="1"))},n}();!function(n){n.audioprocess="audioprocess",n.canplay="canplay",n.canplaythrough="canplaythrough",n.complete="complete",n.durationchange="durationchange",n.emptied="emptied",n.ended="ended",n.loadeddata="loadeddata",n.loadedmetadata="loadedmetadata",n.pause="pause",n.play="play",n.playing="playing",n.progress="progress",n.ratechange="ratechange",n.seeked="seeked",n.seeking="seeking",n.stalled="stalled",n.suspend="suspend",n.timeupdate="timeupdate",n.volumechange="volumechange",n.waiting="waiting",n.error="error",n.abort="abort",n.loadstart="loadstart",n.mozaudioavailable="mozaudioavailable"}(h||(h={})),function(n){n.destroy="destroy",n.resize="resize",n.screenshot="screenshot"}(v||(v={}));var L=function(){function n(n){this.events={},this.player=n,this.videoEvents=Object.keys(h).map((function(n){return h[n]})),this.playerEvents=Object.keys(v).map((function(n){return v[n]}))}return n.prototype.type=function(n){return-1!==this.playerEvents.indexOf(n)?"player":-1!==this.videoEvents.indexOf(n)?"video":(console.error("".concat(n," 事件不存在，请查看下文档")),null)},n.prototype.on=function(n,t){var e=this.type(n);if(e&&"function"!=typeof t)return console.error("".concat(n," 事件的回调函数必须是一个函数"));this.events[n]||(this.events[n]=[]),this.events[n].push(t),"video"===e&&this.player.video.addEventListener(n,t),"player"===e&&this.events[n].push(t)},n.prototype.off=function(n,t){if(this.type(n)&&this.events[n]&&this.events[n].length){var e=this.events[n].indexOf(t);if(-1===e)return;this.events[n].splice(e,1),"video"===this.type(n)&&this.player.video.removeEventListener(n,t)}},n.prototype.emit=function(n,t){this.events[n]&&this.events[n].length&&this.events[n].forEach((function(n){n(t)}))},n.prototype.once=function(n,t){var e=this,o=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t.apply(void 0,r),e.off(n,o)};this.on(n,o)},n}();return function(){function s(t){var s=this;this.paused=!0,this.videoType="auto",this.duration=0,this.handleVideoEndByOuter=!1,this.onLoadedMetadata=function(){s.duration=s.clipEnd-s.clipStart||s.video.duration,s.controller&&s.controller.onTimeupdate()},this.onPlay=function(){s.paused=!1,s.controller&&(s.controller.playButton&&(s.controller.playButton.innerHTML=i),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=a),s.controller.updateSeekBar())},this.onPause=function(){s.paused=!0,s.controller&&(s.controller.playButton&&(s.controller.playButton.innerHTML=r),s.controller.controlPlayButton&&(s.controller.controlPlayButton.innerHTML=l),cancelAnimationFrame(s.controller.playRaf))},this.useHls=function(t){try{s.hls=new n,s.hls.loadSource(t.src),s.hls.attachMedia(t)}catch(n){console.error("Error: Can't find Hls.",n)}},this.destroyHls=function(){s.hls&&s.hls.destroy()},this.play=function(){return e(s,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.video.play()];case 1:return n.sent(),[2]}}))}))},this.pause=function(){return e(s,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.video.pause()];case 1:return n.sent(),[2]}}))}))},this.togglePlay=function(n){return e(s,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.video.paused?[4,this.play()]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.pause()];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},this.seek=function(n){s.video.currentTime=Number(n)},this.mute=function(){s.video.muted=!s.video.muted,s.controller.volumeSlider.value=s.video.muted?"0":s.video.volume+"",s.controller.muteButton.innerHTML=s.video.muted?d:p},this.toggleFullScreen=function(){document.fullscreenElement?document.exitFullscreen():s.video.requestFullscreen?s.video.requestFullscreen():s.video.mozRequestFullScreen?s.video.mozRequestFullScreen():s.video.webkitRequestFullscreen?s.video.webkitRequestFullscreen():s.video.webkitSupportsFullscreen&&s.video.webkitEnterFullscreen()},this.src=function(n){return e(s,void 0,void 0,(function(){return o(this,(function(t){return this.video.setAttribute("src",n),this.video.load(),[2]}))}))},this.handleWaterMarkShow=function(){var n,t;s.waterMark=s.videoContainer.querySelector(".dz-player-watermark"),s.waterMark&&(null===(n=s.options.waterMark)||void 0===n?void 0:n.show)&&(s.waterMark.setAttribute("style",s.options.waterMark.style),s.waterMark.style.display="block",s.waterMark.style.backgroundImage="url(".concat(null===(t=s.options.waterMark)||void 0===t?void 0:t.url,")"))},this.mountController=function(n){s.controls&&(s.options.controlOptions&&s.options.controlOptions.nativeControls||(s.controller.removeMountTargetEvent(),s.controller.mountTarget=n,s.controller.initMountTargetEvent(),n.appendChild(s.controller.controlElement)))},this.cutVideo=function(n,t){s.clipStart=n,s.clipEnd=t,s.duration=t-n,s.seek(n),s.controls&&s.controller.initTimeTip(),s.controls&&s.controller.updateSeekBar(!0)},this.destroy=function(){return e(s,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.destroyHls(),[4,this.pause()];case 1:return n.sent(),this.video.src="",this.container.innerHTML="",this.controller&&this.controller.destroy(),[2]}}))}))},this.container=t.container,this.options=t,this.controls=null==t.controls||t.controls,this.clipStart=t.clipStart||0,this.clipEnd=t.clipEnd||0,this.handleVideoEndByOuter=t.handleVideoEndByOuter||!1,this.events=new L(this),this.setup()}return s.prototype.setup=function(){this.videoContainer=document.createElement("div"),this.videoContainer.className="dz-player-container",this.options.customStyle&&this.videoContainer.setAttribute("style",this.options.customStyle),this.videoContainer.style.width=this.options.width||"100%",this.videoContainer.style.height=this.options.height||"100%";var n="";if(w(this.options.url))n=this.options.url;else if(z(this.options.url)){var e=this.options.url;e.map((function(t){n=t.default?t.value:e[0].value}))}this.videoContainer.innerHTML=function(n,t,e,o){o=o||function(n,t,e,o,r){var i=t.split("\n"),l=Math.max(o-3,0),a=Math.min(i.length,o+3),s=r(e),p=i.slice(l,a).map((function(n,t){var e=t+l+1;return(e==o?" >> ":"    ")+e+"| "+n})).join("\n");throw n.path=s,n.message=(s||"ejs")+":"+o+"\n"+p+"\n\n"+n.message,n},t=t||function(n){return null==n?"":String(n).replace(i,l)};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},i=/[&<>'"]/g;function l(n){return r[n]||n}var a=1;try{var s="";function p(n){null!=n&&(s+=n)}return p('<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="'),a=5,p(t(n.src)),p('"\n'),a=6,n.controlOptions&&n.controlOptions.nativeControls&&p(" controls "),p("\n"),a=7,n.autoplay&&p(" autoplay "),p("\n"),a=8,n.muted&&p(" muted "),p("\n"),a=9,n.airplay&&p(" airplay "),p("\n"),a=10,n.airplay&&p(' x-webkit-airplay="allow" '),p("\n"),a=11,n.preload&&(p(' preload="'),p(t(n.preload)),p('" ')),p("\n"),a=12,n.poster&&(p(' poster="'),p(t(n.poster)),p('" ')),p("\n"),a=13,n.crossOrigin&&(p(' crossorigin="'),p(t(n.crossOrigin)),p('" ')),p("\n"),a=14,n.videoStyle&&(p(' style="'),p(t(n.videoStyle)),p('" ')),p('\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>'),a=18,s}catch(c){o(c,'<video\nclass="dz-player-video"\nwebkit-playsinline\nplaysinline\nsrc="<%= locals.src %>"\n<% if(locals.controlOptions && locals.controlOptions.nativeControls){ %> controls <% } %>\n<% if(locals.autoplay){ %> autoplay <% } %>\n<% if(locals.muted){ %> muted <% } %>\n<% if(locals.airplay){ %> airplay <% } %>\n<% if(locals.airplay){ %> x-webkit-airplay="allow" <% } %>\n<% if(locals.preload){ %> preload="<%= locals.preload %>" <% } %>\n<% if(locals.poster){ %> poster="<%= locals.poster %>" <% } %>\n<% if(locals.crossOrigin){ %> crossorigin="<%= locals.crossOrigin %>" <% } %>\n<% if(locals.videoStyle){ %> style="<%= locals.videoStyle %>" <% } %>\n>\n您的浏览器不支持video标签\n</video>\n<div class="dz-player-watermark" style="display: none"></div>',void 0,a,t)}}(t(t({},this.options||{}),{src:n})),this.container.innerHTML="",this.container.appendChild(this.videoContainer),this.video=this.videoContainer.querySelector(".dz-player-video"),this.handleWaterMarkShow(),this.initVideo(),this.controls&&(this.controller=new B(this)),this.seek(this.clipStart)},s.prototype.initVideo=function(){var n=this;this.initMSE(this.video,this.options.type),this.on("play",this.onPlay),this.on("pause",this.onPause),this.on("ended",(function(){return e(n,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return this.clipEnd?[2]:this.options.loop?[3,2]:(!this.paused&&this.seek(this.clipStart),[4,this.pause()]);case 1:return n.sent(),[3,4];case 2:return!this.paused&&this.seek(this.clipStart),[4,this.play()];case 3:n.sent(),n.label=4;case 4:return this.controller&&this.controller.updateSeekBar(!0),[2]}}))}))})),this.on("loadedmetadata",this.onLoadedMetadata)},s.prototype.on=function(n,t){this.events.on(n,t)},s.prototype.once=function(n,t){this.events.once(n,t)},s.prototype.emit=function(n,t){this.events.emit(n,t)},s.prototype.off=function(n,t){this.events.off(n,t)},s.prototype.initMSE=function(n,t){switch(this.videoType=t,"hls"===t&&(this.videoType="hls",(n.canPlayType("application/x-mpegURL")||n.canPlayType("application/vnd.apple.mpegURL"))&&(this.videoType="hls"),/.mp4(#|\?|$)/i.exec(n.src)&&(this.videoType="normal")),"auto"===t&&(this.videoType="normal",/m3u8(#|\?|$)/i.exec(n.src)&&(this.videoType="hls"),/.flv(#|\?|$)/i.exec(n.src)&&(this.videoType="flv"),/.mpd(#|\?|$)/i.exec(n.src)&&(this.videoType="dash")),this.videoType){case"flv":console.error("暂不支持 flv 格式视频");break;case"dash":console.error("暂不支持 dash 格式视频");break;case"hls":this.useHls(n)}},s.prototype.volume=function(n){var t=parseFloat(n||this.video.volume);return isNaN(t)||(t=Math.max(t,0),t=Math.min(t,1),this.video.volume=t,this.video.muted&&(this.video.muted=!1),this.controller.switchVolumeIcon()),this.video.volume},s.prototype.screenshot=function(n,t){void 0===n&&(n=!0),void 0===t&&(t="screenshot.png");try{var e=document.createElement("canvas"),o=e.getContext("2d"),r=(g=this.video,m=g.videoWidth/g.videoHeight,b=g.offsetWidth,w=g.offsetHeight,b/w>m?b=w*m:w=b/m,{width:b,height:w});e.width=r.width,e.height=r.height;var i=this.video.videoWidth/this.video.videoHeight,l=e.width/e.height,a=this.video.videoWidth,s=this.video.videoHeight,p=void 0,c=void 0,d=void 0,u=0;return i>l?(d=e.width,u=e.width/i,p=0,c=Math.round((e.height-u)/2)):i===l?(d=e.width,u=e.height,p=0,c=0):i<l&&(d=e.height*i,u=e.height,p=Math.round((e.width-d)/2),c=0),null==o||o.drawImage(this.video,0,0,a,s,p,c,d,u),n&&e.toDataURL("image/png",1)&&(y=t,h=e.toDataURL(),v=document.createElement("a"),f=x(h),document.createEvent("HTMLEvents").initEvent("click",!0,!0),v.download=y,v.href=URL.createObjectURL(f),v.click()),e.toDataURL()||null}catch(n){return console.error(n),null}var y,h,v,f,g,m,b,w},s}()}));
